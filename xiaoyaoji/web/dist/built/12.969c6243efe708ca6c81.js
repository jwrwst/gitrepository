webpackJsonp([12],Array(62).concat([function(e,t,i){var s,n;s=i(63),n=i(136),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(64),o=s(n);t["default"]=o["default"]},function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){t.requestArgs||(t.requestArgs=[]),t.requestHeaders||(t.requestHeaders=[]),t.responseArgs||(t.responseArgs=[]),t.resultHeaders||(t.resultHeaders=""),"String"==t.requestArgs.constructor.name&&(t.requestArgs=JSON.parse(e.currentApi.requestArgs)),"String"==t.responseArgs.constructor.name&&(t.responseArgs=JSON.parse(e.currentApi.responseArgs)),"String"==t.requestHeaders.constructor.name&&(t.requestHeaders=JSON.parse(e.currentApi.requestHeaders)),t.results||(t.results={}),e.results[t.id]?(t.result=e.results[t.id].content,t.resultHeaders=e.results[t.id].headers):(t.result=void 0,t.resultHeaders=void 0,t.resultStatusCode=void 0,t.resultRunTime=void 0),t.protocol||(t.protocol="HTTP"),t.requestMethod||(t.requestMethod="GET"),t.dataType||(t.dataType="X-WWW-FORM-URLENCODED"),t.contentType||(t.contentType="JSON"),t.url||(t.url=""),r(t.requestHeaders),r(t.requestArgs),r(t.responseArgs),t.urlArgs=[];var i=e.requestURL.match(/(\{[a-zA-Z0-9_]+\})/g);null!=i&&i.length>0&&(t.urlArgs=i,t.urlArgs=t.urlArgs.map(function(e){return{name:e.substring(1,e.length-1),value:null}})),t.requestArgs.forEach(function(e){var i=t.id+":args:"+e.name,s=localStorage.getItem(i);void 0!=s&&""!=s&&(e.testValue=s)}),t.requestHeaders.forEach(function(e){var i=t.id+":headers:"+e.name,s=localStorage.getItem(i);void 0!=s&&""!=s&&(e.testValue=s)}),t.resultHeaders||(t.resultHeaders=""),t.resultStatusCode||(t.resultStatusCode=0),t.resultRunTime||(t.resultRunTime=0),e.currentApi=(0,A["default"])({},t,t),"JSON"!=t.dataType&&"XML"!=t.dataType||e.editing||o(t.dataType,e),$("#api-description").html(t.description||""),_initsort_()}function o(e,t){var i;"JSON"==e?i="ace/mode/json":"XML"==e&&(i="ace/mode/xml"),setTimeout(function(){try{var e=ace.edit("ace-editor-box");window.aceeditor=e}catch(s){window.aceeditor={getValue:function(){return""},setTheme:function(){},session:{setMode:function(){}},setValue:function(){}}}aceeditor.setTheme("ace/theme/chrome"),aceeditor.session.setMode(i),aceeditor.setValue(t.requestArgsPreview)},300)}function a(e){var t={};return e.forEach(function(e){var i=e.name;switch(e.type){case"string":t[i]=e.testValue||e.defaultValue||"";break;case"number":t[i]=e.testValue||e.defaultValue||0;break;case"boolean":t[i]=e.testValue||e.defaultValue||!0;break;case"object":t[i]=a(e.children);break;case"array":t[i]=[];break;case"array[number]":t[i]=[0,1];break;case"array[boolean]":t[i]=[!0];break;case"array[string]":t[i]=[""];break;case"array[object]":t[i]=[a(e.children)];break;case"array[array]":t[i]=[[]];break;default:t[i]=""}}),t}function r(e){e.forEach(function(e){e.children=e.children||[],e.testValue=e.testValue||"",r(e.children)})}function l(){setTimeout(function(){$("#folderName").focus()},100)}function c(){setTimeout(function(){$("#moduleName").focus()},100)}function d(e){var t="array";if(e.length>0){var i=e[0].constructor.name;"Array"==i?t="array[array]":"Object"==i?t="array[object]":"String"==i?t="array[string]":"Number"==i?t="array[number]":"Boolean"==i&&(t="array[boolean]")}return t}function u(e,t){if("Array"==e.constructor.name){var i={};e.forEach(function(e){if("Object"==e.constructor.name)for(var s in e)i[s]=e[s];else"Array"==e.constructor.name&&u(e,t)}),u(i,t)}else if("Object"==e.constructor.name)for(var s in e){var n=e[s],o={children:[]};o.name=s,void 0!=n?"Object"==n.constructor.name?(o.type="object",u(n,o.children)):"Array"==n.constructor.name?(o.type=d(n),"array[object]"==o.type?u(n,o.children):"array[array]"==o.type&&u(n[0],o.children)):"String"==n.constructor.name?o.type="string":"Number"==n.constructor.name?o.type="number":"Boolean"==n.constructor.name&&(o.type="boolean"):o.type="",o.require="true",t.push(o)}}function p(e){var t={};return e?(e.forEach(function(e){switch(e.type){case"string":t[e.name]="mock";break;case"number":t[e.name]=parseInt(100*Math.random());break;case"boolean":t[e.name]=!0;break;case"object":e.children&&e.children.length>0?t[e.name]=p(e.children):t[e.name]={};break;case"array":t[e.name]=[];break;case"array[number]":t[e.name]=[1,2,3,4,5];break;case"array[string]":t[e.name]=["1","2","3","4","5"];break;case"array[boolean]":t[e.name]=[!0,!1];break;case"array[object]":e.children&&e.children.length>0?t[e.name]=[p(e.children)]:t[e.name]=[{}];break;case"array[array]":t[e.name]=[[1,2,3],[4,5,6]]}}),t):[]}function v(e,t){if(e.status.apiLoading=!1,t.detail||(t.detail={}),e.currentApi.resultHeaders=t.detail.headers||"",e.currentApi.resultStatusCode=t.detail.status||0,e.currentApi.resultRunTime=t.detail.useTime||0,"success"!=t.detail.type){var i=t.detail.text;if("parsererror"==t.detail.type)return(new f).resolve(i,e.currentApi.contentType),!0;0==t.detail.status&&(i=e.extVer?"URL请求失败":"请求地址错误,服务器无响应或JavaScript跨域错误"),e.currentApi.result='<div class="db-api-error">'+i+"</div>"}}function f(){var e=new JsonFormater({dom:"#api-result",imgCollapsed:"../assets/jsonformat/images/Collapsed.gif",imgExpanded:"../assets/jsonformat/images/Expanded.gif"}),t={JSON:function(t){try{S.currentApi.result=e.doFormat(t)}catch(i){S.currentApi.result=T["default"].escape(t)}},JSONP:function(t){S.currentApi.result=e.doFormat(t)},TEXT:function(e){S.currentApi.result=e},XML:function(e){return window.XMLDocument?(e instanceof XMLDocument&&(e=(new XMLSerializer).serializeToString(e)),void(S.currentApi.result=T["default"].escape(e))):void toastr.error("该浏览器不支持XMLDocument")},HTML:function(e){S.currentApi.result=T["default"].escape(e)}};return{resolve:function(e,i){t[i](e)}}}function m(){var e={};return $("#args-form input").each(function(){var t=this.type,i=this.name;if(e[i]){var s=e[i];"Array"!=s.constructor.name&&(e[i]=[],e[i].push(s)),"file"==t?e[i].push(this.files[0]||null):e[i].push(this.value)}else"file"==t?e[i]=this.files[0]||null:e[i]=this.value}),e}function h(){var e={};return $("#header-form input").each(function(){e[$(this).attr("name")]=$(this).val()}),e["Power-By"]="http://www.xiaoyaoji.com.cn",e}function g(e){e||(e="");var t=904;document.documentElement.clientWidth>=1800&&(t=1160),window.editor=editormd("editorBox",{width:t,height:740,path:"../assets/editor.md/lib/",theme:"default",previewTheme:"default",editorTheme:"mdn-like",markdown:e,codeFold:!0,toolbarIcons:function(){return["undo","redo","|","bold","del","italic","quote","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","reference-link","image","code","preformatted-text","code-block","table","datetime","watch","preview","fullscreen","clear","search","|","help","info"]},saveHTMLToTextarea:!0,searchReplace:!0,htmlDecode:"style,script,iframe|on*",emoji:!1,taskList:!1,tocm:!0,tex:!1,flowChart:!1,toolbarAutoFixed:!1,sequenceDiagram:!1,dialogLockScreen:!0,dialogShowMask:!1,dialogDraggable:!1,imageUpload:!1,imageFormats:["jpg","jpeg","gif","png","bmp","webp"],imageUploadURL:"./php/upload.php",onload:function(){}})}Object.defineProperty(t,"__esModule",{value:!0});var b=i(28),y=s(b),x=i(65),A=s(x),w=i(87),k=s(w),j=i(90),E=s(j),M=i(93),q=s(M),C=i(9),T=s(C);i(96),i(132),k["default"].name="request-headers-vue",k["default"].props=["requestHeaders","editing"],E["default"].name="request-args-vue",E["default"].props=["requestArgs","editing"],q["default"].name="response-args-vue",q["default"].props=["responseArgs","editing"];var S={status:{folderModal:!1,moduleModal:!1,importModal:!1,shareModal:!1,shareCreateModal:!1,envModal:!1,loading:!0,apiLoading:!1,moveCopyModal:!1,moveCopyId:"",showEnvs:!1,showEnvValues:!1,showModuleGlobal:!1,showHistory:!1},ws:{instance:null,connected:!1,message:"",log:"",url:"",destroy:function(){this.instance&&(this.instance.close(),this.connected=!1,this.log="",this.url="",this.message="")}},flag:{"import":null,actionId:null,moduleActionId:"",move:null,moveCopyName:null,moveCopySelectModuleId:null,moveCopySelectFolderId:null,moveCopyId:null,resultActive:"content",tempEnv:{vars:[]},prefix:"$prefix$",varname:"$变量名$",tab:"body",headers:["User-Agent","Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Datetime","Authorization","Cache-Control","Connection","Cookie","Content-Length","Content-MD5","Content-Type"],requests:["name","id","password","email","createtime","datetime","createTime","dateTime","user","code","status","type","msg","message","time","image","file","token","accesstoken","access_token","province","city","area","description","remark","logo"],responses:["name","id","password","email","createtime","datetime","createTime","dateTime","user","code","status","type","msg","message","error","errorMsg","test","fileAccess","image","require","token","accesstoken","accessToken","access_token","province","city","area","remark","description","logo"],searchInput:"",shareAll:!1,needPassword:!1,password:""},error:{projectNotExists:!1,noModule:!1,noInterface:!1},share:!0,envs:null,importValue:null,editing:!1,folderName:"",moduleName:"",show:"doc",modules:[],tempModules:[],project:{},currentApi:{result:null},currentModule:{},currentFolder:null,currentEnv:null,id:"",extVer:!1,collapse:!1,results:{},shares:null},I={formater:{xml:new XML.ObjTree},listener:{success:function(e){(new f).resolve(e.detail,S.currentApi.contentType)},error:function(e){console.error("error:"+e.detail)},complete:function(e){v(S,e)}},pushMessage:function(e){var t={createTime:(new Date).toLocaleString(),content:e};document.dispatchEvent(new CustomEvent("project.message",{detail:t}))},updateInterface:function(e){T["default"].get("/interface/"+e+".json",{},function(t){I.pushMessage("修改接口："+t.data["interface"].name);var i=void 0;S.modules.forEach(function(s){if(s.folders.forEach(function(s){var n=-1,o=void 0;if(s.children.forEach(function(t,i){if(t.id==e)return n=i,o=t.folderId,!0}),t.data["interface"].folderId==o&&n>=0)return s.children.$set(n,t.data["interface"]),i=!0,!0}),i)return!0})})},createInterface:function(e,t){T["default"].get("/interface/"+e+".json",{},function(e){I.pushMessage("新增接口："+e.data["interface"].name),S.modules.forEach(function(i){var s=void 0;if(i.folders.forEach(function(i,n){if(i.id==t)return i.children.push(e.data["interface"]),s=!0,I.sortable["interface"](),!0}),s)return!0})})},deleteInterface:function(e){S.modules.forEach(function(t){var i=void 0;if(t.folders.forEach(function(t){var s=null;if(t.children.forEach(function(t,n){if(t.id==e)return s=t,i=!0,!0}),s)return S.currentApi.id==s.id&&(S.show="doc"),I.pushMessage("删除接口："+s.name),t.children.$remove(s),!0}),i)return!0})},createFolder:function(e,t){T["default"].get("/interfacefolder/"+e+".json",{},function(e){I.pushMessage("新增分类："+e.data.folder.name),S.modules.forEach(function(i){if(i.id==t)return i.folders.push(e.data.folder),I.sortable.folder(),!0})})},updateFolder:function(e){T["default"].get("/interfacefolder/"+e+".json",{},function(t){I.pushMessage("更新分类："+t.data.folder.name),S.modules.forEach(function(i){var s=void 0;if(i.folders.forEach(function(n,o){if(n.id==e){t.data.folder.children=n.children;var a=$.extend(n,t.data.folder);return i.folders.$set(o,a),s=!0,!0}}),s)return!0})})},deleteFolder:function(e){S.modules.forEach(function(t){var i=null;if(t.folders.forEach(function(t,s){if(t.id==e)return i=t,!0}),null!=i)return S.currentApi.folderId==i.id&&(S.show="doc"),t.folders.$remove(i),I.pushMessage("删除分类："+i.name),!0})},createModule:function(e){T["default"].get("/module/"+e+".json",{},function(e){I.pushMessage("新增模块："+e.data.module.name),S.modules.push(e.data.module)})},updateModule:function(e){T["default"].get("/module/"+e+".json",{},function(t){I.pushMessage("更新模块："+t.data.module.name),S.modules.forEach(function(i,s){if(i.id==e){t.data.module.folders=i.folders;var n=$.extend(i,t.data.module);S.modules.$set(s,n)}})})},deleteModule:function(e){var t=void 0;S.modules.forEach(function(i){if(i.id==e)return t=i,!0}),t&&(S.currentModule.id==t.id&&(S.modules.length>0?(S.currentModule=S.modules[0],S.show="doc"):S.error.noModule=!0),I.pushMessage("删除模块："+t.name),S.modules.$remove(t))},task:{instance:null,num:0,init:function(){function e(){i.num<3&&(t=new WebSocket(T["default"].config.websocket+"/api/message"),console.log("reconnect"))}var t=new WebSocket(T["default"].config.websocket+"/api/message");this.instance=t;var i=this;t.onopen=function(e){t.send("projectId:"+S.id),setInterval(function(){t.readyState==t.OPEN&&t.send("projectId:"+S.id)},55e3)},t.onclose=function(t){switch(t.code){case 1006:case 1001:setTimeout(e,5e3)}},t.onmessage=function(e){var t=T["default"].toJSON(e.data);if(t.projectId==S.id&&t.token.substring(0,10)!=T["default"].token().substring(0,10))switch(t.action){case"interface.update":I.updateInterface(t.interfaceId);break;case"interface.create":case"interface.copy":I.createInterface(t.interfaceId,t.ext[0]);break;case"interface.delete":I.deleteInterface(t.interfaceId);break;case"folder.create":I.createFolder(t.folderId,t.ext[0]);break;case"folder.update":I.updateFolder(t.folderId);break;case"folder.delete":I.deleteFolder(t.folderId);break;case"module.create":I.createModule(t.moduleId);break;case"module.update":I.updateModule(t.moduleId);break;case"module.delete":I.deleteModule(t.moduleId)}},t.onerror=function(e){console.log("onerror")}},destroy:function(){this.instance&&(this.instance.close(),this.instance=null)}},defaultView:function(e){e.show="doc"},initModules:function(e){e.requestArgs||(e.requestArgs=[]),e.requestHeaders||(e.requestHeaders=[]),e.folders||(e.folders=[]),e.requestArgs=T["default"].toJSON(e.requestArgs),e.requestHeaders=T["default"].toJSON(e.requestHeaders)},sortable:{init:function(){this.folder(),this["interface"]()},folder:function(){setTimeout(function(){sortable("#api-edit-nav","destroy");var e=sortable("#api-edit-nav");$(e).off("sortupdate").on("sortupdate",function(e){var t=e.detail.oldElementIndex,i=e.detail.elementIndex,s=e.detail.endparent.children,n=[];if(t>i)for(var o=i;o<=t;o++){var a=$(s[o]);n.push(a.data("id")+"_"+a.index())}else for(var r=i;r>=t;r--){var l=$(s[r]);n.push(l.data("id")+"_"+l.index())}S.currentModule.folders.move(t,i),T["default"].post("/interfacefolder/sort.json",{sort:n.toString()})})},500)},"interface":function(){setTimeout(function(){sortable("#api-edit-nav .apis-nav-sub","destroy");var e=sortable("#api-edit-nav .apis-nav-sub");$(e).off("sortupdate").on("sortupdate",function(e){var t=e.detail.oldElementIndex,i=e.detail.elementIndex,s=e.detail.endparent.children,n=[];if(t>i)for(var o=i;o<=t;o++){var a=$(s[o]);n.push(a.data("id")+"_"+a.index())}else for(var r=i;r>=t;r--){var l=$(s[r]);n.push(l.data("id")+"_"+l.index())}e.detail.item.dispatchEvent(new CustomEvent("apisort",{detail:e.detail})),T["default"].post("/interface/sort.json",{sort:n.toString()})})},500)}},reget:function(e){e||(e=S),e.status.loading=!0,e.error.projectNotExists=!1,e.error.noModule=!1,e.error.noInterface=!1,e.currentApi={result:null};var t={},i="/project/"+e.id+".json";T["default"].get(i,t,function(t){if(0==t.code){if(!t.data.project)return void(e.error.projectNotExists=!0);var i=t.data.modules;if(i.forEach(function(e){I.initModules(e)}),e.project=t.data.project,e.project.environments){e.envs=T["default"].toJSON(e.project.environments),e.envs||(e.envs=[]),Array.isArray(e.envs)||(e.envs=[]);var s=localStorage.getItem(e.id+"_env");if(s){var o=void 0;e.envs.forEach(function(e){if(e.id==s)return o=e,!0}),o||(o=e.envs[0]),e.currentEnv=o}else e.currentEnv=e.envs[0];e.currentEnv||(e.currentEnv={name:"环境切换",vars:[]}),e.currentEnv.vars||(e.currentEnv.vars=[])}else e.envs=[],e.currentEnv={name:"环境切换",vars:[]};e.project=(0,A["default"])({},e.project,e.project),S.modules=t.data.modules,S.tempModules=t.data.modules,S.currentModule=S.modules[0];var a="y"==e.$route.query.n;a&&"YES"==e.project.editable&&(e.editing=!0,e.show="api",e.currentFolder=S.modules[0].folders[0],e.currentApi=I.initInterfaceParameters(e.currentFolder.id),n(e,e.currentApi)),I.sortable.init()}else toastr.error(t.errorMsg)},function(){e.status.loading=!1})},copyMove:function(e,t){e.targetId=S.flag.moveCopyId,S.status.moveCopyModal=!1,e.projectId=S.id,T["default"].post("/project/"+S.id+"/copymove.json",e,function(){toastr.success("操作成功","",{timeOut:2e3,positionClass:"toast-top-right"}),I.reget(t)})},renderViewBox:function(e){$("#view-box").html(""),setTimeout(function(){editormd.markdownToHTML("view-box",{htmlDecode:"style,script,iframe",markdown:e||"",emoji:!1,taskList:!1,tex:!1,flowChart:!1,sequenceDiagram:!1})},10)},initInterfaceParameters:function(e){return{protocol:localStorage.getItem("form.protocol")||"HTTP",requestMethod:localStorage.getItem("form.requestMethod")||"GET",dataType:localStorage.getItem("form.dataType")||"X-WWW-FORM-URLENCODED",contentType:localStorage.getItem("form.contentType")||"JSON",requestHeaders:[],requestArgs:[],responseArgs:[],result:"",url:"",folderId:e,status:"ENABLE"}}};t["default"]={components:{RequestHeadersVue:k["default"],RequestArgsVue:E["default"],ResponseArgsVue:q["default"]},created:function(){$("body").removeClass("loading")},route:{data:function(e){this.currentFolder=null,this.currentModule={},this.currentApi={result:null},this.$parent.$data.pageName="接口列表",this.id=e.to.params.id;var t=this;setTimeout(function(){t.extVer=document.body.getAttribute("data-ext-version"),t.extVer&&(t.extVer=parseFloat(t.extVer)),console.log("extVer:"+t.extVer)},1e3),function(){var e=new Clipboard("#api-result-copy",{target:function(){return document.querySelector("#api-result-content")}});new Clipboard("#api-result-header-copy",{target:function(){return document.querySelector("#api-result-headers")}});e.on("success",function(e){}),e.on("error",function(e){console.log(e)})}(),function(){var e=$("body");e.undelegate(".xyj-dropdown-toggle","click").delegate(".xyj-dropdown-toggle","click",function(e){$(this).next().toggle(),e.stopPropagation()}),e.undelegate(".icon-menu","click").delegate(".icon-menu","click",function(e){var t=document.documentElement.clientWidth-1485;t<15&&(t=15),document.documentElement.clientWidth<1255&&(t=document.documentElement.clientWidth-1255+15);var i=$(this).offset().top+50;$("#api-menus").css({top:i,right:t}).show(),e.stopPropagation()}),e.undelegate(".icon-history","click").delegate(".icon-history","click",function(e){var i=$(this).offset().top+50,s=document.documentElement.clientWidth-1485;s>300?s=document.documentElement.clientWidth-300-1485:(s<15&&(s=15),document.documentElement.clientWidth<1255&&(s=document.documentElement.clientWidth-1255+15)),$("#api-history").css({top:i,right:s}),t.status.showHistory=!0,e.stopPropagation()}),$(window).resize(function(){var e=document.documentElement.clientWidth-1485;e>300?($("#api-menus").css({right:e}),$("#api-history").css({right:e-300})):(e<15&&(e=15),document.documentElement.clientWidth<1255&&(e=document.documentElement.clientWidth-1255+15),$("#api-menus").css({right:e}),$("#api-history").css({right:e}))}),$(document).click(function(){$(".xyj-dropdown-list").hide(),$("#api-menus").hide(),t.status.showHistory=!1,t.flag.actionId=null,t.status.showEnvs=!1,t.flag.moduleActionId=null})}(),I.task.destroy(),I.task.init(),this.$parent.projectId=this.id,this.show="doc",I.reget(this),window._hmt&&_hmt.push(["_trackPageview","/project/"+this.id])},activate:function(e){this.$parent.showProject=!0,$(".dashboard").addClass("max"),e.next(),document.addEventListener("result.success",I.listener.success),document.addEventListener("result.complete",I.listener.complete),document.addEventListener("result.error",I.listener.error)},deactivate:function(){this.$parent.showProject=!1,$(".dashboard").removeClass("max"),window.editor=null,document.removeEventListener("result.success",I.listener.success,!1),document.removeEventListener("result.error",I.listener.error,!1),document.removeEventListener("result.complete",I.listener.complete),I.task.destroy()}},computed:{requestURL:function(){var e=this.currentApi.url;return e&&this.currentEnv&&this.currentEnv.vars?(this.currentEnv.vars.forEach(function(t){var i=new RegExp("\\$"+t.name+"\\$","g");e=e.replace(i,t.value)}),this.currentApi.urlArgs&&this.currentApi.urlArgs.length>0&&this.currentApi.urlArgs.forEach(function(t){var i="{"+t.name+"}",s=new RegExp(i,"g");e=e.replace(s,t.value||i)})):e="",$("#requestURL").val(e),e},requestArgsPreview:function(){var e=this.currentApi.dataType,t=a(this.currentApi.requestArgs),i=a(this.currentModule.requestArgs);return t=$.extend(!0,i,t),"XML"==e?(t={xml:t},formatXml(I.formater.xml.writeXML(t))):"JSON"==e?t?(0,y["default"])(t,null,"\t"):"{}":"data not support"},editable:function(){return"YES"==this.project.editable}},watch:{"status.folderModal":function(e){if(!e);e?$("body").addClass("modal-open"):$("body").removeClass("modal-open")},"status.moduleModal":function(e){if(!e){var t=this;setTimeout(function(){t.$data.moduleId="",t.$data.moduleName=""},100)}e?$("body").addClass("modal-open"):$("body").removeClass("modal-open")},"status.importModal":function(e){e?$("body").addClass("modal-open"):$("body").removeClass("modal-open")},"status.envModal":function(e){e?$("body").addClass("modal-open"):$("body").removeClass("modal-open")},id:function(e){},"status.loading":function(e){if(!e){document.title=(this.project.name||"")+"-"+(this.currentModule.name||""),window.editor&&window.editor&&(window.editor.editor.remove(),window.editor=null);var e=this.project.details;this.editing&&"doc"==this.show&&!window.editor&&g(this.project.details,this),this.editing||I.renderViewBox(e)}},editing:function(e){if(e){if(!window.editor&&"doc"==this.show){var t=this.project.details;g(t,this)}_initsort_()}else"doc"==this.show?I.renderViewBox(this.project.details):"api"==this.show?n(this,this.currentApi):"module"==this.show&&(this.show="doc",I.renderViewBox(this.project.details))},show:function(e){if("doc"==e){if(this.currentApi={result:null},this.ws.destroy(),this.editing&&!window.editor){var t=this.project.details;g(t,this)}}else"module"==e&&(this.currentApi={result:null})},"currentApi.result":function(e){this.currentApi.id&&(this.results[this.currentApi.id]||(this.results[this.currentApi.id]={}),this.results[this.currentApi.id].content=e)},"currentApi.resultHeaders":function(e){this.currentApi.id&&(this.results[this.currentApi.id]||(this.results[this.currentApi.id]={}),this.results[this.currentApi.id].headers=e)},currentEnv:function(e){e&&localStorage.setItem(this.id+"_env",e.id)}},data:function(){return S},methods:{search:function(){var e=[],t=this.flag.searchInput;0==t.trim().length?e=S.tempModules:S.tempModules.forEach(function(i){var s=[];if(i.folders&&i.folders.forEach(function(e){var i=void 0,n=[];if(e.children&&e.children.forEach(function(e){(e.name&&e.name.indexOf(t)!=-1||e.url&&e.url.indexOf(t)!=-1||e.description&&e.description.indexOf(t)!=-1)&&(i=!0,n.push(e))}),e.name.indexOf(t)!=-1&&(i=!0,n=e.children),i){var o=$.extend(!0,{},e);o.children=n,s.push(o)}}),s.length>0){var n=$.extend(!0,{},i);n.folders=s,e.push(n)}}),S.modules=e,e.length>0?(S.currentModule=e[0],"api"==this.show&&(S.currentFolder=e[0].folders[0],S.currentApi=e[0].folders[0].children[0],n(this,S.currentApi))):(S.currentModule={},S.currentApi={result:null},S.currentFolder=[]),$("#view-box").html()||I.renderViewBox(this.project.details)},updateProject:function(){this.project.details=window.editor.getMarkdown(),T["default"].post("/project/"+this.id+".json",{details:this.project.details},function(){toastr.success("修改成功")})},envOver:function(e,t){this.status.showEnvValues=!0,this.flag.tempEnv=$.extend(!0,{},e);var i=$(t.target).offset().top-$(t.target).parent().offset().top;$("#api-env-content").css("top",i).show()},envClick:function(e){$("#api-env-details").css("left",$(e.currentTarget).offset().left),this.status.showEnvs=!0},envEdit:function(){this.status.envModal=!0,this.flag.tempEnv.vars.push({})},envNewLine:function(e){e==this.flag.tempEnv.vars.length-1&&this.flag.tempEnv.vars.push({})},createEnv:function(){this.status.envModal=!0,this.flag.tempEnv={vars:[{}]}},envSave:function(){var e=this,t=this;return this.flag.tempEnv.name?(this.flag.tempEnv.vars&&(this.flag.tempEnv.vars=this.flag.tempEnv.vars.filter(function(e){return void 0!=e.name&&null!=e.name&&""!=e.name})),this.flag.tempEnv.vars||(this.flag.tempEnv.vars=[]),this.flag.tempEnv.t?!function(){var t=e.flag.tempEnv.t,i=e.envs.findIndex(function(e){return e.t==t});i!=-1&&e.envs.$set(i,e.flag.tempEnv)}():(this.flag.tempEnv.t=Date.now(),this.envs.push(this.flag.tempEnv)),this.envs=this.envs.map(function(e){return{name:e.name,t:e.t,vars:e.vars}}),void T["default"].post("/project/"+this.id+".json",{environments:(0,y["default"])(this.envs)},function(e){toastr.success("保存成功"),t.status.envModal=!1,1==t.envs.length?t.currentEnv=t.envs[0]:t.envs.forEach(function(e){e.t==t.flag.tempEnv.t&&(t.currentEnv=e)})})):(toastr.error("请输入环境名称"),!1)},envRemove:function(){var e=this,t=this.flag.tempEnv.t,i=this.envs.findIndex(function(t){return t.t==e.flag.tempEnv.t});this.envs.$remove(this.envs[i]),T["default"].post("/project/"+this.id+".json",{environments:(0,y["default"])(this.envs)},function(i){toastr.success("移除成功"),0==e.envs.length?e.currentEnv={name:"环境切换",vars:[]}:e.currentEnv.t==t&&(e.currentEnv=e.envs[0])})},envCopy:function(){var e=$.extend(!0,[],this.flag.tempEnv.vars),t={t:Date.now(),name:this.flag.tempEnv.name+"copy",vars:e};this.envs.push(t);T["default"].post("/project/"+this.id+".json",{environments:(0,y["default"])(this.envs)},function(e){toastr.success("复制成功")})},folderNew:function(e){this.status.folderModal=!0,this.currentFolder=null,this.folderName="",e.stopPropagation(),l()},folderEdit:function(e,t){this.status.folderModal=!0,this.currentFolder=e,this.folderName=e.name,t.stopPropagation()},folderSave:function(){if(this.$validate(!0),this.$ff.invalid)return!1;if(!this.folderName)return toastr.error("文件夹名称为空"),!1;var e=this.folderName,t=this;if(this.$data.currentFolder){var i=t.currentFolder.id;T["default"].post("/interfacefolder/"+this.currentFolder.id+".json",{name:e},function(s){0==s.code&&t.currentModule.folders.forEach(function(t){t.id==i&&(t.name=e)})})}else T["default"].post("/interfacefolder.json",{sort:t.currentModule.folders.length,moduleId:t.currentModule.id,projectId:t.currentModule.projectId,name:e},function(i){0==i.code&&(t.currentModule.folders.push({name:e,id:i.data,children:[]}),I.sortable.folder())});S.status.folderModal=!1,this.folderName=null},folderDelete:function(e,t){if(!confirm("是否确认删除?"))return!1;var i=this;T["default"]["delete"]("/interfacefolder/"+e.id+".json",function(t){i.$data.currentModule.folders.$remove(e)}),t.stopPropagation()},folderNewApi:function(e,t){return t.stopPropagation(),this.flag.actionId=null,this.show="api",null==e&&(e=this.currentFolder?this.currentFolder:this.currentModule.folders[0]),e?(this.currentApi=I.initInterfaceParameters(e.id),this.currentApi.sort=e.children.length,this.currentFolder=e,void(document.documentElement.scrollTop>100&&(document.documentElement.scrollTop=110))):(toastr.error("请先添加一个分类。"),this.show="doc",!1)},folderClick:function(e){var t=$(e.currentTarget);t.toggleClass("open"),t.next().slideToggle()},apiDescBlur:function(e){this.currentApi.description=$("#api-description").html()},apiClick:function(e,t){this.currentFolder=t,this.show="api",this.currentApi=e,this.currentModule.lastUpdateTime=e.lastUpdateTime,n(this,e),document.documentElement.scrollTop>100&&(document.documentElement.scrollTop=110)},apiDelete:function(e,t,i){if(i.stopPropagation(),!confirm("是否确认删除?"))return!1;var s=this;T["default"]["delete"]("/interface/"+e.id+".json",function(i){e.id==s.currentApi.id&&I.defaultView(s),t.$remove(e)})},apiSave:function(){var e=this.currentApi;if(e.id||(e.moduleId=this.currentModule.id,e.projectId=this.currentModule.projectId),!e.folderId)return void toastr.error("请选择一个分类");var t=$.extend({},e);t.urlArgs=void 0,t.requestArgs=(0,y["default"])(t.requestArgs),t.responseArgs=(0,y["default"])(t.responseArgs),t.requestHeaders=(0,y["default"])(t.requestHeaders);var i=this,s=i.currentFolder,n=i.currentModule;T["default"].post("/interface/save.json",t,function(t){toastr.success("保存成功","",{timeOut:2e3,positionClass:"toast-top-right"});var o=void 0;if(n.folders.forEach(function(t){if(t.id==e.folderId)return o=t,!0}),e.id){var a=-1;s.children.forEach(function(t,i){if(t.id==e.id)return a=i,!0}),s.id==e.folderId?a!=-1&&o.children.$set(a,e):(o.children.push(e),s.children.$remove(s.children[a]),s.id==i.currentFolder.id&&(i.currentFolder=o))}else e.id=t.data,o.children.push(e),I.sortable["interface"]();localStorage.setItem("form.protocol",e.protocol),localStorage.setItem("form.requestMethod",e.requestMethod),localStorage.setItem("form.dataType",e.dataType),localStorage.setItem("form.contentType",e.contentType)})},apiVarsClick:function(e,t){this.currentApi.url=this.currentApi.url+("$"+e+"$")},apiSubmit:function(){var e=this,t=$("#requestURL").val(),i=m();for(var s in i){var n=e.currentApi.id+":args:"+s,o=i[s];"string"==typeof o&&localStorage.setItem(n,o)}if("IMAGE"==e.currentApi.contentType||"BINARY"==e.currentApi.contentType)return window.open(t+"?"+T["default"].args2Params(i)),d=void 0,!0;var a=h();for(var r in a){var l=e.currentApi.id+":headers:"+r,c=a[r];"string"==typeof c&&localStorage.setItem(l,c)}var d={url:t,cache:!1,headers:a,type:e.currentApi.requestMethod,data:i,beforeSend:function(e){e.beginTime=Date.now()},dataType:e.currentApi.contentType,crossDomain:!0,xhrFields:{withCredentials:!0},jsonpCallback:"JSONP"==e.currentApi.contentType?"callback":void 0,complete:function(t,i){var s={type:i,text:t.responseText||t.statusText,headers:t.getAllResponseHeaders(),readyState:t.readyState,responseText:t.responseText,status:t.status||0,statusText:t.statusText,useTime:Date.now()-t.beginTime};if("success"!=i){var n=t.responseText||t.statusText;"error"==i&&(n="status:"+t.status+" readyState:"+t.readyState+"  errorText:"+n),s.text=n}v(e,{detail:s})},success:function(t){(new f).resolve(t,e.currentApi.contentType)}};switch("DELETE"==this.currentApi.requestMethod&&(d.url.indexOf("?")!=-1?d.url+="&"+T["default"].args2Params(i):d.url+="?"+T["default"].args2Params(i),d.data=null,delete d.data),this.currentApi.dataType){case"FORM-DATA":d.contentType=!1,d.processData=!1;break;case"RAW":d.data=$("#rawBody").val()||"",d.processData=!1,d.contentType="text/plain";break;case"XML":d.data=window.aceeditor.getValue(),d.processData=!1,d.contentType="text/xml";break;case"JSON":d.data=window.aceeditor.getValue(),d.processData=!1,d.contentType="application/json";break;case"BINARY":d.processData=!1,d.contentType="application/octet-stream",d.data=$("#binaryBody")[0]}if(e.status.apiLoading=!0,this.extVer&&"JSONP"!=e.currentApi.contentType){delete d.complete,delete d.success,delete d.error,delete d.beforeSend,"BINARY"==this.currentApi.dataType&&(d.data="#binaryBody");var u=new CustomEvent("request",{detail:d});document.dispatchEvent(u)}else $.ajax(d)},apiMock:function(){var e=this;if("IMAGE"==e.currentApi.contentType)return window.open("http://www.xiaoyaoji.com.cn/test/image/test.jpg"),!0;if("BINARY"==e.currentApi.contentType)return window.open("http://www.xiaoyaoji.com.cn/test/binary/blank.exe"),!0;console.log(e.currentApi.responseArgs);var t=void 0;switch(e.currentApi.contentType){case"JSON":case"JSONP":t=p(e.currentApi.responseArgs);break;case"TEXT":t="欢迎使用小幺鸡接口文档管理工具。";break;case"HTML":t="<html><head><title>标题</title></head><body>欢迎使用小幺鸡接口文档管理工具。</body></html>";break;case"XML":t=p(e.currentApi.responseArgs),t=formatXml(I.formater.xml.writeXML(t))}(new f).resolve(t,e.currentApi.contentType)},apisortupdate:function(e,t){e.move(t.detail.oldElementIndex,t.detail.elementIndex)},moduleDelete:function(e){return this.modules.length<=1?(toastr.error("至少需要保留一个模块"),!1):!!confirm("是否确认删除?")&&(this.modules.$remove(e),
T["default"]["delete"]("/module/"+e.id+".json"),void(this.modules.length>0?(this.currentModule=this.modules[0],this.show="doc"):this.error.noModule=!0))},moduleEdit:function(e){this.status.moduleModal=!0,this.moduleName=e.name,this.moduleId=e.id,c()},moduleNew:function(){this.status.moduleModal=!0,c(),this.moduleName=""},moduleClick:function(e){e.folders||(e.folders=[]),this.currentModule=e,this.currentApi={},this.currentFolder=null,this.show="doc",I.sortable.init()},moduleSave:function(){if(this.$validate(!0),this.$mf.invalid)return!1;if(!this.moduleName)return toastr.error("模块名称为空"),!1;var e=this;if(this.moduleId){var t=e.moduleId,i=e.moduleName;T["default"].post("/module/"+t+".json",{name:i},function(s){0==s.code&&e.modules.forEach(function(e){e.id==t&&(e.name=i)})})}else{var s=this.moduleName;T["default"].post("/module.json",{projectId:e.id,name:s},function(t){if(0==t.code){var i={name:s,projectId:e.id,id:t.data,folders:[],requestHeaders:[],requestArgs:[]};S.modules.push(i),I.initModules(i),1==S.modules.length&&(S.currentModule=S.modules[0])}})}S.status.moduleModal=!1,this.moduleName="",this.moduleId=""},moduleUpdateCommonParams:function(){var e=(0,y["default"])(this.currentModule.requestArgs),t=(0,y["default"])(this.currentModule.requestHeaders);T["default"].post("/module/"+this.currentModule.id+".json",{requestArgs:e,requestHeaders:t},function(e){toastr.success("操作成功")})},insertNewResponseArgsRow:function(){S.currentApi.responseArgs.push({require:"true",children:[],type:"string"}),_initsort_()},insertNewRequestHeadersRow:function(){S.currentApi.requestHeaders.push({require:"true",children:[]}),_initsort_()},insertNewRequestArgsRow:function(){S.currentApi.requestArgs.push({require:"false",children:[],type:"string"}),_initsort_()},insertNewGRequestHeadersRow:function(){this.currentModule.requestHeaders.push({children:[],require:"true"}),_initsort_()},insertNewGRequestArgsRow:function(){this.currentModule.requestArgs.push({type:"string",children:[],require:"true"}),_initsort_()},import2GHeaders:function(){this.status.importModal=!0,this.flag["import"]="gHeaders"},import2GRequestArgs:function(){this.status.importModal=!0,this.flag["import"]="gRequestArgs"},import2RequestArgs:function(){this.status.importModal=!0,this.flag["import"]="requestArgs"},import2RequestHeaders:function(){this.status.importModal=!0,this.flag["import"]="requestHeaders"},import2ResponseArgs:function(){this.status.importModal=!0,this.flag["import"]="responseArgs"},importOk:function(){if(!this.importValue)return toastr.error("导入内容为空"),!1;var e=null;try{e=T["default"].toJSON(this.importValue)}catch(t){return void alert("JSON格式有误")}var i=[];u(e,i);var s=this;i.forEach(function(e){"requestArgs"==s.flag["import"]?s.currentApi.requestArgs.push(e):"requestHeaders"==s.flag["import"]?s.currentApi.requestHeaders.push(e):"responseArgs"==s.flag["import"]?s.currentApi.responseArgs.push(e):"gHeaders"==s.flag["import"]?s.currentModule.requestHeaders.push(e):"gRequestArgs"==s.flag["import"]&&s.currentModule.requestArgs.push(e)}),this.status.importModal=!1,_initsort_()},wsConnect:function(){var e=$("#websocketRequestURL").val(),t=new WebSocket(e);this.ws.instance=t;var i=this;t.onopen=function(e){i.ws.log="connected",i.ws.connected=!0},t.onclose=function(e){i.ws.log+="\nonClose!",i.ws.connected=!1},t.onmessage=function(e){i.ws.log+="\nonMessage:"+e.data},t.onerror=function(e){i.ws.log+="\nonError:"+(e.data||"")}},wsDisconnect:function(){this.ws.instance.close()},wsSendMessage:function(){this.ws.instance.send(this.ws.message),this.ws.log+="\n sent message:"+this.ws.message},listItemCopy:function(e,t,i){"api"==e?this.flag.moveCopyName="接口":"folder"==e&&(this.flag.moveCopyName="分类"),this.flag.move="move"==i,this.status.moveCopyModal=!0,this.flag.moveCopyId=t},copyMoveOk:function(){if(this.flag.move)if("分类"==this.flag.moveCopyName){if(this.flag.moveCopySelectModuleId==this.currentModule.id)return toastr.error("同一模块无须移动"),!1;I.copyMove({type:"folder",action:"move",moduleId:this.flag.moveCopySelectModuleId},this)}else I.copyMove({type:"api",action:"move",moduleId:this.flag.moveCopySelectModuleId,folderId:this.flag.moveCopySelectFolderId},this);else"分类"==this.flag.moveCopyName?I.copyMove({type:"folder",action:"copy",moduleId:this.flag.moveCopySelectModuleId},this):I.copyMove({type:"api",action:"copy",moduleId:this.flag.moveCopySelectModuleId,folderId:this.flag.moveCopySelectFolderId},this)},openNewWindow:function(){var e=window.open("","new");e.document.documentElement.innerHTML="",e.document.write(T["default"].unescape(this.currentApi.result)),e.document.close()},shareItemClockClick:function(e){var t=$(e.target).parent().next();t.show(),t.focus()},shareItemPasswordBlur:function(e,t){var i=t.target;$(i).hide();var s=$(i).val(),n=$(i).data("value")||"";return s==n||void T["default"].post("/share/"+e.id+".json",{password:s},function(e){toastr.success("密码已修改")})},shareCreate:function(){var e=this,t=$("#share-form").serialize()+"&projectId="+this.id+"&shareAll="+(this.flag.shareAll?"YES":"NO");T["default"].post("/share.json",t,function(t){e.getShares(!0),e.status.shareCreateModal=!1,toastr.success("创建成功")})},confirmPassword:function(){I.reget(this)},getShares:function(e){var t=this;this.status.shareModal=!0,(null==this.shares||e)&&!function(){var e=t;T["default"].get("/project/"+t.id+"/shares.json",{},function(t){e.shares=t.data.shares})}()},deleteShare:function(e){if(!confirm("是否确认删除?"))return!0;var t=this;T["default"]["delete"]("/share/"+e.id+".json",function(){t.shares.$remove(e)})}}},function(){Array.prototype.move=function(e,t){if(t>=this.length)for(var i=t-this.length;i--+1;)this.push(void 0);return this.splice(t,0,this.splice(e,1)[0]),this},window._initsort_=function(){setTimeout(function(){sortable(".div-editing-table","destroy");var e=sortable(".div-editing-table",{handle:".icon-drag-copy",items:".div-editing-line"});$(e).off("sortupdate").on("sortupdate",function(e){var t=$(e.detail.item).attr("class");t.indexOf("placeholder-request-args")!=-1?e.detail.item.dispatchEvent(new CustomEvent("requestargsortupdate",{detail:e.detail})):t.indexOf("placeholder-request-headers")!=-1?e.detail.item.dispatchEvent(new CustomEvent("requestheadersortupdate",{detail:e.detail})):t.indexOf("placeholder-response-args")!=-1&&e.detail.item.dispatchEvent(new CustomEvent("responseargssortupdate",{detail:e.detail}))})},500)}}()},function(e,t,i){e.exports={"default":i(66),__esModule:!0}},function(e,t,i){i(67),e.exports=i(15).Object.assign},function(e,t,i){var s=i(13);s(s.S+s.F,"Object",{assign:i(68)})},function(e,t,i){"use strict";var s=i(69),n=i(84),o=i(85),a=i(86),r=i(73),l=Object.assign;e.exports=!l||i(24)(function(){var e={},t={},i=Symbol(),s="abcdefghijklmnopqrst";return e[i]=7,s.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=s})?function(e,t){for(var i=a(e),l=arguments.length,c=1,d=n.f,u=o.f;l>c;)for(var p,v=r(arguments[c++]),f=d?s(v).concat(d(v)):s(v),m=f.length,h=0;m>h;)u.call(v,p=f[h++])&&(i[p]=v[p]);return i}:l},function(e,t,i){var s=i(70),n=i(83);e.exports=Object.keys||function(e){return s(e,n)}},function(e,t,i){var s=i(71),n=i(72),o=i(76)(!1),a=i(80)("IE_PROTO");e.exports=function(e,t){var i,r=n(e),l=0,c=[];for(i in r)i!=a&&s(r,i)&&c.push(i);for(;t.length>l;)s(r,i=t[l++])&&(~o(c,i)||c.push(i));return c}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var s=i(73),n=i(75);e.exports=function(e){return s(n(e))}},function(e,t,i){var s=i(74);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==s(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var s=i(72),n=i(77),o=i(79);e.exports=function(e){return function(t,i,a){var r,l=s(t),c=n(l.length),d=o(a,c);if(e&&i!=i){for(;c>d;)if(r=l[d++],r!=r)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}}},function(e,t,i){var s=i(78),n=Math.min;e.exports=function(e){return e>0?n(s(e),9007199254740991):0}},function(e,t){var i=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?s:i)(e)}},function(e,t,i){var s=i(78),n=Math.max,o=Math.min;e.exports=function(e,t){return e=s(e),e<0?n(e+t,0):o(e,t)}},function(e,t,i){var s=i(81)("keys"),n=i(82);e.exports=function(e){return s[e]||(s[e]=n(e))}},function(e,t,i){var s=i(14),n="__core-js_shared__",o=s[n]||(s[n]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var i=0,s=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+s).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var s=i(75);e.exports=function(e){return Object(s(e))}},function(e,t,i){var s,n;s=i(88),n=i(89),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={methods:{removeRequestHeadersRow:function(e,t){t.$remove(e)},insertRequestHeadersRow:function(e){e.children.push({require:"true",type:"string",children:[]}),_initsort_()},move:function(e,t){e.move(t.detail.oldElementIndex,t.detail.elementIndex)},apiArgsColumnFold:function(e){var t=$(e.target),i=$(e.target).parent().parent().next();t.hasClass("open")?(t.removeClass("open"),i.slideUp()):(t.addClass("open"),i.slideDown())}}}},function(e,t){e.exports=' <div class="div-table-line placeholder-request-headers" v-on:requestheadersortupdate=move(requestHeaders,$event) v-bind:class="{\'div-editing-line\':editing}" v-for="item in requestHeaders"> <template v-if=editing> <ul class=cb> <li class=col-sm-1> <i class="iconfont icon-close" v-on:click=removeRequestHeadersRow(item,requestHeaders)></i> <i class="iconfont icon-drag-copy"></i> </li> <li class="col-sm-3 input"><input type=text list=headerlist class="text name" v-model=item.name value={{item.name}}></li> <li class=col-sm-2><select v-model=item.require> <option value=true>true</option> <option value=false>false</option> </select></li> <li class="col-sm-2 input"><input type=text class=text v-model=item.defaultValue value={{item.defaultValue}}></li> <li class="col-sm-4 input"><input type=text class=text v-model=item.description value={{item.description}}></li> </ul> </template> <template v-else> <ul class=cb> <li class="col-sm-2 name"> <template v-if="item.type &&( item.type==\'object\' || item.type.indexOf(\'array\')!=-1)"> <i class="iconfont icon-my open" v-on:click=apiArgsColumnFold($event)></i> </template> {{item.name}} </li> <li class=col-sm-1> {{item.require || \'false\' }} </li> <li class=col-sm-2 title={{item.defaultValue}}> {{item.defaultValue}} </li> <li class="col-sm-7 full-height" title={{item.description}}> {{item.description}} </li> </ul> </template> <div class=sub v-bind:class="{\'div-editing-table\':editing}"> <request-headers-vue v-bind:request-headers.sync=item.children v-bind:editing=editing></request-headers-vue> </div> </div> '},function(e,t,i){var s,n;s=i(91),n=i(92),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={methods:{removeRequestArgsRow:function(e,t){t.$remove(e)},insertRequestArgsRow:function(e,t){e.children.index=t,e.children.push({require:"true",type:"string",children:[]}),_initsort_()},move:function(e,t){e.move(t.detail.oldElementIndex,t.detail.elementIndex)},apiArgsColumnFold:function(e){var t=$(e.target),i=$(e.target).parent().parent().next();t.hasClass("open")?(t.removeClass("open"),i.slideUp()):(t.addClass("open"),i.slideDown())}}}},function(e,t){e.exports=' <div class="div-table-line placeholder-request-args" v-on:requestargsortupdate=move(requestArgs,$event) v-bind:class="{\'div-editing-line\':editing}" v-for="item in requestArgs"> <template v-if=editing> <ul class=cb> <li class=col-sm-1> <i class="iconfont icon-close" v-on:click=removeRequestArgsRow(item,requestArgs)></i> <i class="iconfont icon-tianjia" v-show="item.type && ( item.type.indexOf(\'object\')!=-1) " v-on:click=insertRequestArgsRow(item,requestArgs.index+1)></i> <i class="iconfont icon-drag-copy"></i> </li> <li class="col-sm-3 input"> <input type=text list=requestlist class="text name" v-model=item.name value={{item.name}}> </li> <li class=col-sm-2><select v-model=item.require> <option value=true>true</option> <option value=false>false</option> </select></li> <li class=col-sm-2> <select v-model=item.type> <option value=string>string</option> <option value=number>number</option> <option value=boolean>boolean</option> <option value=object>object</option> <option value=array>array</option> <option value=array[number]>array[number]</option> <option value=array[boolean]>array[boolean]</option> <option value=array[string]>array[string]</option> <option value=array[object]>array[object]</option> <option value=array[array]>array[array]</option> <option value=file>file</option> </select> </li> <li class="col-sm-2 input"><input type=text class=text v-model=item.defaultValue value={{item.defaultValue}}></li> <li class="col-sm-2 input"> <input type=text class=text v-model=item.description value={{item.description}}> </li> </ul> </template> <template v-else> <ul class=cb> <li class="col-sm-2 name"> <template v-if="item.type &&(item.type.indexOf(\'object\')!=-1)"> <i class="iconfont icon-my open" v-on:click=apiArgsColumnFold($event)></i> </template> {{item.name}} </li> <li class=col-sm-1> {{item.require || \'false\'}} </li> <li class=col-sm-1 title={{item.type}}> {{item.type}} </li> <li class=col-sm-2 title={{item.defaultValue}}> {{item.defaultValue}} </li> <li class="col-sm-6 full-height" title={{item.description}}> {{item.description}} </li> </ul> </template> <div class=sub v-bind:class="{\'div-editing-table\':editing}"> <request-args-vue v-bind:request-args=item.children v-bind:editing=editing></request-args-vue> </div> </div> '},function(e,t,i){var s,n;s=i(94),n=i(95),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={methods:{removeResponseArgsRow:function(e,t){t.$remove(e)},insertResponseArgsRow:function(e){e.children.push({require:"true",children:[],type:"string"}),_initsort_()},move:function(e,t){e.move(t.detail.oldElementIndex,t.detail.elementIndex)},apiArgsColumnFold:function(e){var t=$(e.target),i=$(e.target).parent().parent().next();t.hasClass("open")?(t.removeClass("open"),i.slideUp()):(t.addClass("open"),i.slideDown())}}}},function(e,t){e.exports=' <div class="div-table-line placeholder-response-args" v-on:responseargssortupdate=move(responseArgs,$event) v-bind:class="{\'div-editing-line\':editing}" v-for="item in responseArgs"> <template v-if=editing> <ul class=cb> <li class=col-sm-1> <i class="iconfont icon-close" v-on:click=removeResponseArgsRow(item,responseArgs)></i> <i class="iconfont icon-tianjia" v-show="item.type &&( item.type.indexOf(\'object\')!=-1) " v-on:click=insertResponseArgsRow(item)></i> <i class="iconfont icon-drag-copy"></i> </li> <li class="col-sm-3 input"><input type=text list=responselist class="text name" v-model=item.name value={{item.name}}></li> <li class=col-sm-2><select v-model=item.require> <option value=true>true</option> <option value=false>false</option> </select></li> <li class=col-sm-2> <select v-model=item.type> <option value=string>string</option> <option value=number>number</option> <option value=boolean>boolean</option> <option value=object>object</option> <option value=array>array</option> <option value=array[number]>array[number]</option> <option value=array[boolean]>array[boolean]</option> <option value=array[string]>array[string]</option> <option value=array[object]>array[object]</option> <option value=array[array]>array[array]</option> </select> </li> <li class="col-sm-4 input full-height"> <input type=text class=text v-model=item.description value={{item.description}}> </li> </ul> </template> <template v-else> <ul class=cb> <li class="col-sm-3 name"> <template v-if="item.type &&(item.type.indexOf(\'object\')!=-1)"> <i class="iconfont icon-my open" v-on:click=apiArgsColumnFold($event)></i> </template> {{item.name}} </li> <li class=col-sm-1> {{item.require || \'false\'}} </li> <li class=col-sm-2 title={{item.type}}> {{item.type}} </li> <li class="col-sm-6 full-height" title={{item.description}}> {{item.description}} </li> </ul> </template> <div class=sub v-bind:class="{\'div-editing-table\':editing}"> <response-args-vue v-bind:response-args=item.children v-bind:editing=editing></response-args-vue> </div> </div> '},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function JsonFormater(e){this.options=$.extend({dom:"",tabSize:2,singleTab:"  ",quoteKeys:!0,imgCollapsed:"images/Collapsed.gif",imgExpanded:"images/Expanded.gif",isCollapsible:!0},e||{}),this.isFormated=!1,this.obj={_dateObj:new Date,_regexpObj:new RegExp},this.init()}var _typeof2=__webpack_require__(97),_typeof3=_interopRequireDefault(_typeof2);window.JsonFormater=JsonFormater,JsonFormater.prototype={init:function(){this.tab=this.multiplyString(this.options.tabSize,this.options.singleTab),this.bindEvent()},doFormat:function doFormat(json){var html,obj;try{return"object"==("undefined"==typeof json?"undefined":(0,_typeof3["default"])(json))?obj=[json]:(""==json&&(json='""'),obj=eval("["+json+"]")),html=this.ProcessObject(obj[0],0,!1,!1,!1),this.isFormated=!0,html}catch(e){throw this.isFormated=!1,e}},bindEvent:function(){var e=this;$(this.options.dom).off("click",".imgToggle"),$(this.options.dom).on("click",".imgToggle",function(){0!=e.isFormated&&e.makeContentVisible($(this).parent().next(),!$(this).data("status"))})},expandAll:function(){if(0!=this.isFormated){var e=this;this.traverseChildren($(this.options.dom),function(t){t.hasClass("jf-collapsible")&&e.makeContentVisible(t,!0)},0)}},collapseAll:function(){if(0!=this.isFormated){var e=this;this.traverseChildren($(this.options.dom),function(t){t.hasClass("jf-collapsible")&&e.makeContentVisible(t,!1)},0)}},collapseLevel:function(e){if(0!=this.isFormated){var t=this;this.traverseChildren($(this.options.dom),function(i,s){i.hasClass("jf-collapsible")&&(s>=e?t.makeContentVisible(i,!1):t.makeContentVisible(i,!0))},0)}},isArray:function(e){return e&&"object"===("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e))&&"number"==typeof e.length&&!e.propertyIsEnumerable("length")},getRow:function(e,t,i){var s="";return i||(s=this.multiplyString(e,this.tab)),null!=t&&t.length>0&&"\n"!=t.charAt(t.length-1)&&(t+="\n"),s+t},formatLiteral:function(e,t,i,s,n,o){"string"==typeof e&&(e=e.split("<").join("&lt;").split(">").join("&gt;"));var a="<span class='jf-"+o+"'>"+t+e+t+i+"</span>";return n&&(a=this.getRow(s,a)),a},formatFunction:function(e,t){var i,s,n=t.toString().split("\n"),o="";for(i=this.multiplyString(e,this.tab),s=0;s<n.length;s++)o+=(0==s?"":i)+n[s]+"\n";return o},multiplyString:function(e,t){for(var i="",s=0;s<e;s++)i+=t;return i},traverseChildren:function(e,t,i){for(var s=e.children().length,n=0;n<s;n++)this.traverseChildren(e.children().eq(n),t,i+1);t(e,i)},makeContentVisible:function(e,t){var i=e.prev().find("img");t?(e.show(),i.attr("src",this.options.imgExpanded),i.data("status",1)):(e.hide(),i.attr("src",this.options.imgCollapsed),i.data("status",0))},ProcessObject:function(e,t,i,s,n){var o,a="",r=i?"<span class='jf-Comma'>,</span> ":"",l="undefined"==typeof e?"undefined":(0,_typeof3["default"])(e),c="";if(this.isArray(e))if(0==e.length)a+=this.getRow(t,"<span class='jf-ArrayBrace'>[ ]</span>"+r,n);else{c=this.options.isCollapsible?"<span><img class='imgToggle' data-status='1' src='"+this.options.imgExpanded+"'/></span><span class='jf-collapsible'>":"",a+=this.getRow(t,"<span class='jf-ArrayBrace'>[</span>"+c,n);for(var d=0;d<e.length;d++)a+=this.ProcessObject(e[d],t+1,d<e.length-1,!0,!1);c=this.options.isCollapsible?"</span>":"",a+=this.getRow(t,c+"<span class='jf-ArrayBrace'>]</span>"+r)}else if("object"==l)if(null==e)a+=this.formatLiteral("null","",r,t,s,"Null");else{var u=0;for(o in e)u++;if(0==u)a+=this.getRow(t,"<span class='jf-ObjectBrace'>{ }</span>"+r,n);else{c=this.options.isCollapsible?"<span><img class='imgToggle' data-status='1' src='"+this.options.imgExpanded+"'/></span><span class='jf-collapsible'>":"",a+=this.getRow(t,"<span class='jf-ObjectBrace'>{</span>"+c,n);var p=0;for(o in e){var v=this.options.quoteKeys?'"':"";a+=this.getRow(t+1,"<span class='jf-PropertyName'>"+v+o+v+"</span>: "+this.ProcessObject(e[o],t+1,++p<u,!1,!0))}c=this.options.isCollapsible?"</span>":"",a+=this.getRow(t,c+"<span class='jf-ObjectBrace'>}</span>"+r)}}else a+="number"==l?this.formatLiteral(e,"",r,t,s,"Number"):"boolean"==l?this.formatLiteral(e,"",r,t,s,"Boolean"):"undefined"==l?this.formatLiteral("undefined","",r,t,s,"Null"):this.formatLiteral(e.toString().split("\\").join("\\\\").split('"').join('\\"'),'"',r,t,s,"String");return a}}},function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=i(98),o=s(n),a=i(118),r=s(a),l="function"==typeof r["default"]&&"symbol"==typeof o["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof r["default"]&&e.constructor===r["default"]?"symbol":typeof e};t["default"]="function"==typeof r["default"]&&"symbol"===l(o["default"])?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof r["default"]&&e.constructor===r["default"]?"symbol":"undefined"==typeof e?"undefined":l(e)}},function(e,t,i){e.exports={"default":i(99),__esModule:!0}},function(e,t,i){i(100),i(113),e.exports=i(117).f("iterator")},function(e,t,i){"use strict";var s=i(101)(!0);i(102)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=s(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){var s=i(78),n=i(75);e.exports=function(e){return function(t,i){var o,a,r=String(n(t)),l=s(i),c=r.length;return l<0||l>=c?e?"":void 0:(o=r.charCodeAt(l),o<55296||o>56319||l+1===c||(a=r.charCodeAt(l+1))<56320||a>57343?e?r.charAt(l):o:e?r.slice(l,l+2):(o-55296<<10)+(a-56320)+65536)}}},function(e,t,i){"use strict";var s=i(103),n=i(13),o=i(104),a=i(18),r=i(71),l=i(105),c=i(106),d=i(110),u=i(112),p=i(111)("iterator"),v=!([].keys&&"next"in[].keys()),f="@@iterator",m="keys",h="values",g=function(){return this};e.exports=function(e,t,i,b,y,x,A){c(i,t,b);var w,k,j,E=function(e){if(!v&&e in T)return T[e];switch(e){case m:return function(){return new i(this,e)};case h:return function(){return new i(this,e)}}return function(){return new i(this,e)}},M=t+" Iterator",q=y==h,C=!1,T=e.prototype,S=T[p]||T[f]||y&&T[y],I=S||E(y),O=y?q?E("entries"):I:void 0,R="Array"==t?T.entries||S:S;if(R&&(j=u(R.call(new e)),j!==Object.prototype&&(d(j,M,!0),s||r(j,p)||a(j,p,g))),q&&S&&S.name!==h&&(C=!0,I=function(){return S.call(this)}),s&&!A||!v&&!C&&T[p]||a(T,p,I),l[t]=I,l[M]=g,y)if(w={values:q?I:E(h),keys:x?I:E(m),entries:O},A)for(k in w)k in T||o(T,k,w[k]);else n(n.P+n.F*(v||C),t,w);return w}},function(e,t){e.exports=!0},function(e,t,i){e.exports=i(18)},function(e,t){e.exports={}},function(e,t,i){"use strict";var s=i(107),n=i(27),o=i(110),a={};i(18)(a,i(111)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=s(a,{next:n(1,i)}),o(e,t+" Iterator")}},function(e,t,i){var s=i(20),n=i(108),o=i(83),a=i(80)("IE_PROTO"),r=function(){},l="prototype",c=function(){var e,t=i(25)("iframe"),s=o.length,n="<",a=">";for(t.style.display="none",i(109).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(n+"script"+a+"document.F=Object"+n+"/script"+a),e.close(),c=e.F;s--;)delete c[l][o[s]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(r[l]=s(e),i=new r,r[l]=null,i[a]=e):i=c(),void 0===t?i:n(i,t)}},function(e,t,i){var s=i(19),n=i(20),o=i(69);e.exports=i(23)?Object.defineProperties:function(e,t){n(e);for(var i,a=o(t),r=a.length,l=0;r>l;)s.f(e,i=a[l++],t[i]);return e}},function(e,t,i){e.exports=i(14).document&&document.documentElement},function(e,t,i){var s=i(19).f,n=i(71),o=i(111)("toStringTag");e.exports=function(e,t,i){e&&!n(e=i?e:e.prototype,o)&&s(e,o,{configurable:!0,value:t})}},function(e,t,i){var s=i(81)("wks"),n=i(82),o=i(14).Symbol,a="function"==typeof o,r=e.exports=function(e){return s[e]||(s[e]=a&&o[e]||(a?o:n)("Symbol."+e))};r.store=s},function(e,t,i){var s=i(71),n=i(86),o=i(80)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),s(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,i){i(114);for(var s=i(14),n=i(18),o=i(105),a=i(111)("toStringTag"),r=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var c=r[l],d=s[c],u=d&&d.prototype;u&&!u[a]&&n(u,a,c),o[c]=o.Array}},function(e,t,i){"use strict";var s=i(115),n=i(116),o=i(105),a=i(72);e.exports=i(102)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,i):"values"==t?n(0,e[i]):n(0,[i,e[i]])},"values"),o.Arguments=o.Array,s("keys"),s("values"),s("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){t.f=i(111)},function(e,t,i){e.exports={"default":i(119),__esModule:!0}},function(e,t,i){i(120),i(129),i(130),i(131),e.exports=i(15).Symbol},function(e,t,i){"use strict";var s=i(14),n=i(71),o=i(23),a=i(13),r=i(104),l=i(121).KEY,c=i(24),d=i(81),u=i(110),p=i(82),v=i(111),f=i(117),m=i(122),h=i(123),g=i(124),b=i(125),y=i(20),x=i(72),A=i(26),w=i(27),k=i(107),j=i(126),E=i(128),M=i(19),q=i(69),C=E.f,T=M.f,S=j.f,I=s.Symbol,O=s.JSON,R=O&&O.stringify,$="prototype",N=v("_hidden"),_=v("toPrimitive"),L={}.propertyIsEnumerable,H=d("symbol-registry"),P=d("symbols"),F=d("op-symbols"),V=Object[$],B="function"==typeof I,D=s.QObject,U=!D||!D[$]||!D[$].findChild,J=o&&c(function(){return 7!=k(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,i){var s=C(V,t);s&&delete V[t],T(e,t,i),s&&e!==V&&T(V,t,s)}:T,W=function(e){var t=P[e]=k(I[$]);return t._k=e,t},X=B&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},Y=function(e,t,i){return e===V&&Y(F,t,i),y(e),t=A(t,!0),y(i),n(P,t)?(i.enumerable?(n(e,N)&&e[N][t]&&(e[N][t]=!1),i=k(i,{enumerable:w(0,!1)})):(n(e,N)||T(e,N,w(1,{})),e[N][t]=!0),J(e,t,i)):T(e,t,i)},G=function(e,t){y(e);for(var i,s=g(t=x(t)),n=0,o=s.length;o>n;)Y(e,i=s[n++],t[i]);return e},z=function(e,t){return void 0===t?k(e):G(k(e),t)},K=function(e){var t=L.call(this,e=A(e,!0));return!(this===V&&n(P,e)&&!n(F,e))&&(!(t||!n(this,e)||!n(P,e)||n(this,N)&&this[N][e])||t)},Q=function(e,t){if(e=x(e),t=A(t,!0),e!==V||!n(P,t)||n(F,t)){var i=C(e,t);return!i||!n(P,t)||n(e,N)&&e[N][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=S(x(e)),s=[],o=0;i.length>o;)n(P,t=i[o++])||t==N||t==l||s.push(t);return s},ee=function(e){for(var t,i=e===V,s=S(i?F:x(e)),o=[],a=0;s.length>a;)!n(P,t=s[a++])||i&&!n(V,t)||o.push(P[t]);return o};B||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(i){this===V&&t.call(F,i),n(this,N)&&n(this[N],e)&&(this[N][e]=!1),J(this,e,w(1,i))};return o&&U&&J(V,e,{configurable:!0,set:t}),W(e)},r(I[$],"toString",function(){return this._k}),E.f=Q,M.f=Y,i(127).f=j.f=Z,i(85).f=K,i(84).f=ee,o&&!i(103)&&r(V,"propertyIsEnumerable",K,!0),f.f=function(e){return W(v(e))}),a(a.G+a.W+a.F*!B,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)v(te[ie++]);for(var te=q(v.store),ie=0;te.length>ie;)m(te[ie++]);a(a.S+a.F*!B,"Symbol",{"for":function(e){return n(H,e+="")?H[e]:H[e]=I(e)},keyFor:function(e){if(X(e))return h(H,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!B,"Object",{create:z,defineProperty:Y,defineProperties:G,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),O&&a(a.S+a.F*(!B||c(function(){var e=I();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!X(e)){for(var t,i,s=[e],n=1;arguments.length>n;)s.push(arguments[n++]);return t=s[1],"function"==typeof t&&(i=t),!i&&b(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!X(t))return t}),s[1]=t,R.apply(O,s)}}}),I[$][_]||i(18)(I[$],_,I[$].valueOf),u(I,"Symbol"),u(Math,"Math",!0),u(s.JSON,"JSON",!0)},function(e,t,i){var s=i(82)("meta"),n=i(21),o=i(71),a=i(19).f,r=0,l=Object.isExtensible||function(){return!0},c=!i(24)(function(){return l(Object.preventExtensions({}))}),d=function(e){a(e,s,{value:{i:"O"+ ++r,w:{}}})},u=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,s)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[s].i},p=function(e,t){if(!o(e,s)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[s].w},v=function(e){return c&&f.NEED&&l(e)&&!o(e,s)&&d(e),e},f=e.exports={KEY:s,NEED:!1,fastKey:u,getWeak:p,onFreeze:v}},function(e,t,i){var s=i(14),n=i(15),o=i(103),a=i(117),r=i(19).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:s.Symbol||{});"_"==e.charAt(0)||e in t||r(t,e,{value:a.f(e)})}},function(e,t,i){var s=i(69),n=i(72);e.exports=function(e,t){for(var i,o=n(e),a=s(o),r=a.length,l=0;r>l;)if(o[i=a[l++]]===t)return i}},function(e,t,i){var s=i(69),n=i(84),o=i(85);e.exports=function(e){var t=s(e),i=n.f;if(i)for(var a,r=i(e),l=o.f,c=0;r.length>c;)l.call(e,a=r[c++])&&t.push(a);return t}},function(e,t,i){var s=i(74);e.exports=Array.isArray||function(e){return"Array"==s(e)}},function(e,t,i){var s=i(72),n=i(127).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(e){try{return n(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?r(e):n(s(e))}},function(e,t,i){var s=i(70),n=i(83).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,n)}},function(e,t,i){var s=i(85),n=i(27),o=i(72),a=i(26),r=i(71),l=i(22),c=Object.getOwnPropertyDescriptor;t.f=i(23)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(i){}if(r(e,t))return n(!s.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){i(122)("asyncIterator")},function(e,t,i){i(122)("observable")},function(e,t,i){var s=i(133);"string"==typeof s&&(s=[[e.id,s,""]]);var n=i(135)(s,{});s.locals&&(e.exports=s.locals),s.locals||e.hot.accept(133,function(){var t=i(133);"string"==typeof t&&(t=[[e.id,t,""]]),n(t)}),e.hot.dispose(function(){n()})},function(e,t,i){t=e.exports=i(134)(),t.push([e.id,".jf-ObjectBrace{color:#0a0;font-weight:700}.jf-ArrayBrace{color:#03f;font-weight:700}.jf-PropertyName{color:#c00;font-weight:700}.jf-String{color:#077}.jf-Number{color:#a0a}.jf-Boolean,.jf-Null{color:#00f}.jf-Comma{color:#000;font-weight:700}pre.jf-CodeContainer{margin-top:0;margin-bottom:0;text-align:left}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){
"string"==typeof t&&(t=[[null,t,""]]);for(var s={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(s[o]=!0)}for(n=0;n<t.length;n++){var a=t[n];"number"==typeof a[0]&&s[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(e,t,i){function s(e,t){for(var i=0;i<e.length;i++){var s=e[i],n=v[s.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(c(s.parts[o],t))}else{for(var a=[],o=0;o<s.parts.length;o++)a.push(c(s.parts[o],t));v[s.id]={id:s.id,refs:1,parts:a}}}}function n(e){for(var t=[],i={},s=0;s<e.length;s++){var n=e[s],o=n[0],a=n[1],r=n[2],l=n[3],c={css:a,media:r,sourceMap:l};i[o]?i[o].parts.push(c):t.push(i[o]={id:o,parts:[c]})}return t}function o(e,t){var i=h(),s=y[y.length-1];if("top"===e.insertAt)s?s.nextSibling?i.insertBefore(t,s.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function r(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function c(e,t){var i,s,n;if(t.singleton){var o=b++;i=g||(g=r(t)),s=d.bind(null,i,o,!1),n=d.bind(null,i,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(t),s=p.bind(null,i),n=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=r(t),s=u.bind(null,i),n=function(){a(i)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}function d(e,t,i,s){var n=i?"":s.css;if(e.styleSheet)e.styleSheet.cssText=x(t,n);else{var o=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function u(e,t){var i=t.css,s=t.media;if(s&&e.setAttribute("media",s),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function p(e,t){var i=t.css,s=t.sourceMap;s&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var n=new Blob([i],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(n),o&&URL.revokeObjectURL(o)}var v={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=f(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=n(e);return s(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var r=i[a],l=v[r.id];l.refs--,o.push(l)}if(e){var c=n(e);s(c,t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete v[l.id]}}}};var x=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=' <template v-if=!status.loading> <div class="api-modules-tab ta-c" v-if="project.editable==\'YES\'"> <a class="api-module api-module-item" v-bind:class="{\'active\':editing}" v-on:click="editing=true">编辑模式</a> <a class="api-module api-module-item" v-bind:class="{\'active\':!editing}" v-on:click="editing=false">浏览模式</a> </div> <div class=api-modules> <div class="cb api-modules-container"> <ul> <li data-id={{item.id}} v-for="item in modules" class="api-module fl api-module-item" v-bind:class="{\'active\':currentMod\n                        ule.id == item.id}"> <span v-on:click=moduleClick(item)>{{item.name}}</span> <i class="icon-angeldownblock iconfont" v-on:click.stop="flag.moduleActionId= item.id" v-show=editing></i> <div class=api-item-actions v-show="flag.moduleActionId == item.id && editing"> <div v-on:click=moduleEdit(item)><i class="iconfont icon-bianji"></i> 编辑</div> <div v-on:click=moduleDelete(item)><i class="iconfont icon-move"></i> 删除</div> </div> </li> <li class="api-module fl api-module-plus" v-on:click=moduleNew v-show=editing> <i class="icon-tianjia iconfont"></i></li> <li class="fr api-module"><i class="iconfont icon-history"></i></li> <li class="fr api-module"><i class="iconfont icon-menu"></i></li> <li class="fr api-module api-env" v-show=currentEnv v-on:click.stop=envClick($event)>{{currentEnv.name}} <i class="iconfont icon-angeldownblock"></i></li> <li class="fr api-module"> <div class=api-module-search> <input type=text class=text v-on:keyup.enter=search v-model=flag.searchInput> <i class="iconfont icon-search" v-on:click=search></i> </div> </li> </ul> </div> </div> <div class=api-env-details id=api-env-details v-show=status.showEnvs v-on:mouseleave="status.showEnvs=false"> <ul class=api-env-items> <li v-for="item in envs" v-bind:class="{\'active\':item.t==currentEnv.t}" v-on:click="currentEnv=item" v-on:mouseover=envOver(item,$event)>{{item.name}}</li> <li class=line></li> <li v-on:click=createEnv v-on:mouseover="status.showEnvValues=false" v-if="project.editable==\'YES\'" class=api-env-create>添加环境</li> </ul> <div class=api-env-content id=api-env-content v-show=status.showEnvValues> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-4>变量</li> <li class=col-sm-8> <div class=cb>值 <i v-on:click.stop=envRemove style="padding-right: 5px" class="fr iconfont icon-close"></i> <i v-on:click.stop=envCopy style="padding-right: 5px" class="fr iconfont icon-copy"></i> <i v-on:click.stop=envEdit style="padding-right: 5px" class="fr iconfont icon-edit"></i> </div> </li> </ul> <ul class="div-table-line cb" v-for="item in flag.tempEnv.vars"> <li class=col-sm-4>{{item.name}}</li> <li class=col-sm-8>{{item.value}}</li> </ul> </div> </div> </div> <div class=api-menus id=api-menus> <div class=api-sanjiaoxings> <i class="iconfont icon-sanjiaoxing"></i> </div> <ul class=cb> <li v-if=editable> <a v-on:click=getShares> <p><i class="iconfont icon-relation"></i></p> <p>分享</p> </a> </li> <li v-if=editable> <a v-link="\'/project/\'+id+\'/members\'"> <p><i class="iconfont icon-user"></i></p> <p>成员管理</p> </a> </li> <li v-if=editable> <a v-link="\'/project/\'+id+\'/settings\'"> <p><i class="iconfont icon-setting"></i></p> <p>项目设置</p> </a> </li> <li> <a v-link="\'/project/\'+id+\'/quit\'"> <p><i class="iconfont icon-quit"></i></p> <p>退出项目</p> </a> </li> <li v-if=editable> <a v-link="\'/project/\'+id+\'/transfer\'"> <p><i class="iconfont icon-transfer"></i></p> <p>项目转让</p> </a> </li> <li v-if=editable> <a v-link="\'/project/\'+id+\'/release\'"> <p><i class="iconfont icon-delete"></i></p> <p>删除项目</p> </a> </li> <li v-if=editable> <a v-link="\'/project/\'+id+\'/export\'"> <p><i class="iconfont icon-export"></i></p> <p>导出项目</p> </a> </li> <li> <a href=http://www.xiaoyaoji.com.cn/help.html target=_blank> <p><i class="iconfont icon-question"></i></p> <p>帮助</p> </a> </li> </ul> </div> <div class=api-history id=api-history v-show=status.showHistory> <i class="iconfont icon-close" v-on:click.stop="status.showHistory=false"></i> <iframe v-bind:src="\'history.html?projectId=\'+id" frameborder=0 scrolling=yes width=300px style="height: 500px" marginheight=0></iframe> </div>  <datalist id=headerlist> <option v-for="item in flag.headers" value={{item}}> </option></datalist> <datalist id=requestlist> <option v-for="item in flag.requests" value={{item}}> </option></datalist> <datalist id=responselist> <option v-for="item in flag.responses" value={{item}}> </option></datalist> <div v-show="modules.length>0"> <div v-show=editing> <div id=api-edit-box class=apis> <div class="cb api-container"> <div class="fl apis-left"> <div class="cb api-fn-actions"> <div class=fl v-on:click=folderNew><i class="icon-tianjia iconfont"></i> 添加分类</div> <div class=fl v-on:click=folderNewApi(null,$event)><i class="icon-tianjia iconfont"></i> 添加接口</div> </div> <ul class=apis-nav> <li> <div class="api-name api-description cb" v-bind:class="{\'active\':show==\'doc\'}" v-on:click="show=\'doc\'"> <span>文档说明</span> <span class="fr api-actions"> <i class="iconfont icon-list" v-on:click.stop="collapse=!collapse"></i> </span> </div> </li> <li> <div class="api-name api-description cb" v-bind:class="{\'active\':show==\'module\'}" v-on:click="show=\'module\'"> <span>模块全局参数</span> </div> </li> </ul> <ul class="apis-nav api-folder-list" id=api-edit-nav> <template v-if=!currentModule.folders> {{currentModule.folders = []}} </template> <li v-for="item in currentModule.folders" data-id={{item.id}}> <div class="api-name api-folder cb" v-bind:class="{\'open\':!collapse}" v-on:click=folderClick> <span>{{item.name}}</span> <div class=fr> <i v-on:click=folderNewApi(item,$event) class="icon-tianjia iconfont api-new"></i> <i v-on:click.stop="flag.actionId=item.id" class="icon-angeldownblock iconfont"></i> </div> </div> <ul class="apis-nav apis-nav-sub" v-bind:class="{\'hide\':collapse}"> <li v-on:apisort=apisortupdate(item.children,$event) v-for="api in item.children" data-id={{api.id}}> <div class="api-name cb" v-on:click=apiClick(api,item) v-bind:class="{\'active\':currentApi.id == api.id}"> <span v-bind:class="{\'deprecated\':api.status==\'DEPRECATED\'}">{{api.name}}</span> <div class=fr> <i v-on:click.stop="flag.actionId=api.id" class="icon-angeldownblock iconfont"></i> </div> </div> <div class=api-item-actions v-show="flag.actionId==api.id"> <div v-on:click="listItemCopy(\'api\',api.id,\'copy\')"><i class="iconfont icon-copy"></i> 复制</div> <div v-on:click="listItemCopy(\'api\',api.id,\'move\')"><i class="iconfont icon-move"></i> 移动</div> <div v-on:click=apiDelete(api,item.children,$event)><i class="iconfont icon-move"></i> 删除</div> </div> </li> </ul> <div class=api-item-actions v-show="flag.actionId==item.id"> <div v-on:click="listItemCopy(\'folder\',item.id,\'copy\')"><i class="iconfont icon-copy"></i> 复制</div> <div v-on:click="listItemCopy(\'folder\',item.id,\'move\')"><i class="iconfont icon-move"></i> 移动</div> <div v-on:click=folderEdit(item,$event)><i class="iconfont icon-bianji"></i> 编辑</div> <div v-on:click=folderDelete(item,$event)><i class="iconfont icon-move"></i> 删除</div> </div> </li> </ul> </div> <div class="api-content fl"> <div id=api-edit-description class=api-doc-desc v-bind:class="{\'hide\':show!=\'doc\'}"> <div id=editorBox></div> <div class="api-btn-save ta-c"> <button class="btn btn-orange" v-on:click=updateProject>保存修改</button> </div> </div> <div v-bind:class="{\'hide\':show!=\'module\'}" class=form> <p class=api-details-title>全局请求头</p> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-1>操作</li> <li class=col-sm-3>参数名称</li> <li class=col-sm-2>是否必须</li> <li class=col-sm-2>默认值</li> <li class=col-sm-4>描述</li> </ul> </div> <div class="div-table editing div-editing-table"> <request-headers-vue v-bind:request-headers.sync=currentModule.requestHeaders v-bind:editing=editing></request-headers-vue> </div> <div class=item> <button class="btn btn-default btn-sm" v-on:click=insertNewGRequestHeadersRow> <i class="iconfont icon-tianjia"></i>添加参数 </button> <button class="btn btn-default btn-sm" v-on:click=import2GHeaders> <i class="iconfont icon-importexport"></i>导入json </button> </div> <p class=api-details-title>全局请求参数</p> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-1>操作</li> <li class=col-sm-3>参数名称</li> <li class=col-sm-2>是否必须</li> <li class=col-sm-2>类型</li> <li class=col-sm-2>默认值</li> <li class=col-sm-2>描述</li> </ul> </div> <div class="div-table editing div-editing-table"> <request-args-vue v-bind:request-args=currentModule.requestArgs v-bind:editing=editing></request-args-vue> </div> <div class=item> <button class="btn btn-default btn-sm" v-on:click=insertNewGRequestArgsRow> <i class="iconfont icon-tianjia"></i>添加参数 </button> <button class="btn btn-default btn-sm" v-on:click=import2GRequestArgs> <i class="iconfont icon-importexport"></i>导入json </button> </div> <div class="api-btn-save ta-c"> <button class="btn btn-orange" v-on:click=moduleUpdateCommonParams>保存修改</button> </div> </div> <div id=api-edit-details v-bind:class="{\'hide\':show!=\'api\'}"> <div id=api-edit-content class=form> <p class=api-details-title>基本信息</p> <div class="item api-chose-list"> <div> <span>分类</span> <div class=div-select> <select v-model=currentApi.folderId> <option value={{item.id}} v-for="item in currentModule.folders">{{item.name}}</option> </select> </div> </div> <div> <span>协议</span> <div class=div-select> <select v-model=currentApi.protocol> <option value=HTTP>HTTP</option> <option value=WEBSOCKET>WEBSOCKET</option> </select> </div> </div> <template v-if="currentApi.protocol==\'HTTP\'"> <div> <span>请求方法</span> <div class=div-select> <select v-model=currentApi.requestMethod> <option value=GET>GET</option> <option value=POST>POST</option> <option value=PUT>PUT</option> <option value=DELETE>DELETE</option> <option value=PATCH>PATCH</option> <option value=COPY>COPY</option> <option value=OPTIONS>OPTIONS</option> </select> </div> </div> <div> <span>请求数据类型</span> <div class=div-select> <select v-model=currentApi.dataType> <option value=X-WWW-FORM-URLENCODED>X-WWW-FORM-URLENCODED</option> <template v-if="currentApi.requestMethod == \'POST\'"> <option value=FORM-DATA>FORM-DATA</option> <option value=BINARY>BINARY</option> </template> <option value=JSON>JSON</option> <option value=RAW>RAW</option> <option value=XML>XML</option> </select> </div> </div> <div> <span>响应类型</span> <div class=div-select> <select v-model=currentApi.contentType> <option value=JSON>JSON</option> <option value=JSONP>JSONP</option> <option value=TEXT>TEXT</option> <option value=XML>XML</option> <option value=HTML>HTML</option> <option value=IMAGE>IMAGE</option> <option value=BINARY>BINARY</option> </select> </div> </div> <div> <span>状态</span> <div class=div-select> <select v-model=currentApi.status> <option value=ENABLE>启用</option> <option value=DEPRECATED>已废弃</option> </select> </div> </div> </template> </div> <div class=item> <div class="col-sm-1 label">接口名称</div> <div class=col-sm-11> <input type=text class=text maxlength=30 placeholder=请输入接口名称 v-model=currentApi.name value={{currentApi.name}}> </div> </div> <div class=item> <div class="col-sm-1 label">请求地址</div> <div class=col-sm-11> <input type=text placeholder=如:/api/test v-model=currentApi.url class=text value={{currentApi.url}}> <template v-if="currentEnv.vars && currentEnv.vars.length>0"> <p class=hint>实际请求地址:{{requestURL}}</p> <p class=api-env-vars> 变量：<span v-on:click=apiVarsClick(item.name,$event) v-for="item in currentEnv.vars">{{item.name}}</span> </p> </template> </div> </div> <div class=item> <div class="col-sm-1 label">接口描述</div> <div class=col-sm-11> <div contenteditable=true v-on:blur=apiDescBlur id=api-description></div> </div> </div> <template v-if="currentApi.protocol == \'HTTP\'"> <p class=api-details-title>发送数据</p> <div class=tabs> <a class=tab v-on:click="flag.tab=\'header\'" v-bind:class="{\'active\':(flag.tab==\'header\') ||  (currentApi.dataType==\'BINARY\')}">请求头(Header)</a> <a class=tab v-on:click="flag.tab=\'body\'" v-bind:class="{\'active\':flag.tab==\'body\'}" v-if="currentApi.dataType!=\'BINARY\'">请求参数(Body)</a> </div> <div class=tab-content v-bind:class="{\'active\':(flag.tab==\'header\') ||  (currentApi.dataType==\'BINARY\') }"> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-1>操作</li> <li class=col-sm-3>参数名称</li> <li class=col-sm-2>是否必须</li> <li class=col-sm-2>默认值</li> <li class=col-sm-4>描述</li> </ul> </div> <div class="div-table editing div-editing-table"> <request-headers-vue v-bind:request-headers.sync=currentApi.requestHeaders v-bind:editing=editing></request-headers-vue> </div> <div class=item> <button class="btn btn-default btn-sm" v-on:click=insertNewRequestHeadersRow> <i class="iconfont icon-tianjia"></i>添加参数 </button> <button class="btn btn-default btn-sm" v-on:click=import2RequestHeaders> <i class="iconfont icon-importexport"></i>导入json </button> </div> </div> <div class=tab-content v-bind:class="{\'active\':flag.tab==\'body\'}" v-if="currentApi.dataType!=\'BINARY\'"> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-1>操作</li> <li class=col-sm-3>参数名称</li> <li class=col-sm-2>是否必须</li> <li class=col-sm-2>类型</li> <li class=col-sm-2>默认值</li> <li class=col-sm-2>描述</li> </ul> </div> <div class="div-table editing div-editing-table"> <request-args-vue v-bind:request-args=currentApi.requestArgs v-bind:editing=editing></request-args-vue> </div> <div class=item> <button class="btn btn-default btn-sm" v-on:click=insertNewRequestArgsRow> <i class="iconfont icon-tianjia"></i>添加参数 </button> <button class="btn btn-default btn-sm" v-on:click=import2RequestArgs> <i class="iconfont icon-importexport"></i>导入json </button> </div> </div> <p class=api-details-title>响应数据</p> <div> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-1>操作</li> <li class=col-sm-3>参数名称</li> <li class=col-sm-2>是否必须</li> <li class=col-sm-2>类型</li> <li class=col-sm-4>描述</li> </ul> </div> <div class="div-table editing div-editing-table"> <response-args-vue v-bind:response-args=currentApi.responseArgs v-bind:editing=editing></response-args-vue> </div> <div class=item> <button class="btn btn-default btn-sm" v-on:click=insertNewResponseArgsRow> <i class="iconfont icon-tianjia"></i>添加参数 </button> <button class="btn btn-default btn-sm" v-on:click=import2ResponseArgs> <i class="iconfont icon-importexport"></i>导入json </button> </div> </div> <p class=api-details-title>示例数据</p> <textarea class="api-example api-field" v-model=currentApi.example placeholder=请添加一些示例数据>{{currentApi.example}}</textarea> </template> </div> <div class="api-btn-save ta-c"> <button class="btn btn-orange" v-on:click=apiSave>保存修改</button> </div> </div> </div> </div> </div> </div> <div v-show=!editing> <template v-if=!error.projectNotExists> <div class=apis> <div v-if="currentModule.folders && currentModule.folders.length>0" class="cb api-container"> <div class="fl apis-left"> <ul class=apis-nav> <li> <div class="api-name api-description" v-bind:class="{\'active\':show==\'doc\'}" v-on:click="show=\'doc\'"> <span>文档说明</span> <span class="fr api-actions"> <i class="iconfont icon-list" v-on:click.stop="collapse=!collapse"></i> </span> </div> </li> </ul> <ul class="apis-nav api-folder-list"> <template v-if=!currentModule.folders> {{currentModule.folders = []}} </template> <li v-for="item in currentModule.folders" class=cb data-id={{item.id}}> <div class="api-name api-folder" v-bind:class="{\'open\':!collapse}" v-on:click=folderClick> <span>{{item.name}}</span> </div> <ul class="apis-nav apis-nav-sub" v-bind:class="{\'hide\':collapse}"> <li v-for="api in item.children" data-id={{api.id}} v-on:click="show=\'api\'"> <div class=api-name v-bind:class="{\'active\':currentApi.id == api.id}" v-on:click=apiClick(api,item)> <span v-bind:class="{\'deprecated\':api.status==\'DEPRECATED\'}">{{api.name}}</span> </div> </li> </ul> </li> </ul> </div> <div class="api-content fl"> <span class=api-update-time>更新时间: <span id=api-update-time>{{currentModule.lastUpdateTime}}</span></span> <div id=api-doc-desc class=api-doc-desc v-show="show==\'doc\'"> <div id=view-box v-show=project.details></div> <div v-show=!project.details class="ta-c api-error-tip"> <i class="iconfont icon-info"></i> <p>项目还未书写文档说明。</p> </div> </div> <div id=api-details class=api-details v-show="show==\'api\'"> <p class=api-details-title>基本信息</p> <div class="api-base-info api-edit-box"> <p v-if=currentApi.protocol>请求类型: {{currentApi.protocol}}</p> <p v-if=currentApi.url>接口地址: {{requestURL}}</p> <template v-if="currentApi.protocol==\'HTTP\'"> <p v-if=currentApi.requestMethod>请求方式: {{currentApi.requestMethod}}</p> <p v-if=currentApi.dataType>数据类型: {{currentApi.dataType}}</p> <p v-if=currentApi.contentType>响应类型: {{currentApi.contentType}}</p> </template> <p v-if=currentApi.status>接口状态: {{currentApi.status==\'DEPRECATED\'?\'已废弃\':\'启用\'}}</p> </div> <template v-if=currentApi.description> <p class=api-details-title>接口描述</p> <div>{{{currentApi.description}}}</div> </template> <template v-if="(currentModule.requestHeaders&&currentModule.requestHeaders.length>0)"> <p class=api-details-title>全局请求头</p> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-2>参数名称</li> <li class=col-sm-1>是否必须</li> <li class=col-sm-2>默认值</li> <li class=col-sm-7>描述</li> </ul> <request-headers-vue v-bind:request-headers.sync=currentModule.requestHeaders v-bind:editing=editing></request-headers-vue> </div> </template> <template v-if="(currentApi.requestHeaders  && currentApi.requestHeaders.length>0)"> <p class=api-details-title>请求头</p> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-2>参数名称</li> <li class=col-sm-1>是否必须</li> <li class=col-sm-2>默认值</li> <li class=col-sm-7>描述</li> </ul> <request-headers-vue v-bind:request-headers.sync=currentApi.requestHeaders v-bind:editing=editing></request-headers-vue> </div> </template> <template v-if="(currentModule.requestArgs && currentModule.requestArgs.length>0)"> <p class=api-details-title>全局请求参数</p> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-2>参数名称</li> <li class=col-sm-1>是否必须</li> <li class=col-sm-1>类型</li> <li class=col-sm-2>默认值</li> <li class=col-sm-6>描述</li> </ul> <request-args-vue v-bind:request-args.sync=currentModule.requestArgs v-bind:editing=editing></request-args-vue> </div> </template> <template v-if=" (currentApi.requestArgs  && currentApi.requestArgs.length>0)"> <p class=api-details-title>请求参数</p> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-2>参数名称</li> <li class=col-sm-1>是否必须</li> <li class=col-sm-1>类型</li> <li class=col-sm-2>默认值</li> <li class=col-sm-6>描述</li> </ul> <request-args-vue v-bind:request-args.sync=currentApi.requestArgs v-bind:editing=editing></request-args-vue> </div> </template> <template v-if="currentApi.responseArgs && currentApi.responseArgs.length>0"> <p class=api-details-title>响应数据</p> <div class=div-table> <ul class="div-table-header div-table-line cb"> <li class=col-sm-3>参数名称</li> <li class=col-sm-1>是否必须</li> <li class=col-sm-2>数据类型</li> <li class=col-sm-6>描述</li> </ul> <response-args-vue v-bind:response-args.sync=currentApi.responseArgs v-bind:editing=editing></response-args-vue> </div> </template> <template v-if=currentApi.example> <p class=api-details-title>例子</p> <div class="api-details-desc api-edit-box"> <pre class=content>{{currentApi.example}}</pre> </div> </template> <p class=api-details-title>演示</p> <template v-if="!currentApi.protocol || currentApi.protocol == \'HTTP\'"> <div class=form> <div class=item> <div class="col-sm-2 label second">请求地址</div> <div class=col-sm-8> <input type=hidden value={{requestURL}}> <input type=text class=text id=requestURL> </div> <div class=col-sm-2 style="text-align: right"> <div class=xyj-dropdown> <span class="api-view-env xyj-dropdown-toggle">{{currentEnv.name}} <i class="iconfont icon-angeldownblock"></i></span> <ul class="xyj-dropdown-list api-view-env-items"> <li v-for="item in envs" v-bind:class="{\'active\':item.t==currentEnv.t}" v-on:click="currentEnv=item" v-on:mouseover=envOver(item,$event)>{{item.name}}</li> </ul> </div> </div> </div> </div> <template v-if="(currentModule.requestHeaders && currentModule.requestHeaders.length>0) || (currentApi.requestHeaders && currentApi.requestHeaders.length>0)"> <form class="api-test form" id=header-form> <p class="api-details-title second">请求头</p> <div class=item v-for="item in currentModule.requestHeaders"> <div class="col-sm-2 label">{{item.name}}</div> <div class=col-sm-8> <input type=text name={{item.name}} value="{{item.testValue || item.defaultValue}}" placeholder={{item.description}} class=text> </div> </div> <div class=item v-for="item in currentApi.requestHeaders"> <div class="col-sm-2 label">{{item.name}}</div> <div class=col-sm-8> <input type=text name={{item.name}} value="{{item.testValue || item.defaultValue}}" placeholder={{item.description}} class=text> </div> </div> </form> </template> <div class=form> <template v-if="currentApi.urlArgs && currentApi.urlArgs.length>0"> <p class="api-details-title second">地址参数</p> <div class=item v-for="item in currentApi.urlArgs"> <div class="col-sm-2 label">{{item.name}}</div> <div class=col-sm-8> <input data-type=text v-model=item.value type=text name={{item}} placeholder=替换URL上的参数 class=text> </div> </div> </template> </div> <form class=form id=args-form v-on:submit.prevent> <template v-if="(currentModule.requestArgs && currentModule.requestArgs.length>0) || (currentApi.requestArgs && currentApi.requestArgs.length>0)"> <div class=cb> <div> <template v-if="currentApi.dataType==\'XML\' || currentApi.dataType ==\'JSON\'"> <div class=item> <div class="col-sm-2 label">Body</div> <div class=col-sm-8> <pre id=ace-editor-box></pre> </div> </div> </template> <template v-else> <p class="api-details-title second">请求参数</p> <div class=item v-for="item in currentModule.requestArgs"> <div class="col-sm-2 label">{{item.name}}</div> <div class=col-sm-8 v-bind:class="{\'full-text\':item.type==\'file\'}"> <input data-type={{item.type}} type="{{item.type==\'file\'?\'file\':\'text\'}}" name={{item.name}} class=api-request-args-item value="{{item.testValue || item.defaultValue}}" placeholder={{item.description}} v-bind:class="{\'text\':item.type!=\'file\'}"> </div> </div> <div class=item v-for="item in currentApi.requestArgs"> <div class="col-sm-2 label">{{item.name}}</div> <div class=col-sm-8 v-bind:class="{\'full-text\':item.type==\'file\'}"> <input data-type={{item.type}} type="{{item.type==\'file\'?\'file\':\'text\'}}" name={{item.name}} class=api-request-args-item value="{{item.testValue || item.defaultValue}}" placeholder={{item.description}} v-bind:class="{\'text\':item.type!=\'file\'}"> </div> </div> </template> </div> </div> </template> <template v-if="currentApi.dataType==\'RAW\'"> <p class="api-details-title second">请求数据</p> <div class=item> <div class="col-sm-2 label">body</div> <div class=col-sm-8> <textarea class=text id=rawBody></textarea> </div> </div> </template> <template v-if="currentApi.dataType==\'BINARY\'"> <p class="api-details-title second">请求数据</p> <div class=item> <div class="col-sm-2 label">BINARY</div> <div class=col-sm-8> <input type=file class=full-text id=binaryBody> </div> </div> </template> <div class=form> <div class=item> <div class="col-sm-2 label"></div> <div class=col-sm-8> <input type=button id=api-submit v-on:click.stop=apiSubmit class="btn btn-primary" value="{{status.apiLoading?\'加载中\':\'发送\'}}"> <input type=button v-on:click.stop=apiMock v-show="currentApi.responseArgs && currentApi.responseArgs.length>0" class="btn btn-orange" value=mock> </div> </div> </div> </form> <div class="api-result-tabs cb" v-show=currentApi.result> <a class="tab fl active" v-on:click="flag.resultActive=\'content\'" v-bind:class="{\'active\':(flag.resultActive==\'content\')}">Body</a> <a class="tab fl" v-on:click="flag.resultActive=\'headers\'" v-bind:class="{\'active\':(flag.resultActive==\'headers\')}">Headers</a> <a class="tab fr">Time: {{currentApi.resultRunTime}} ms</a> <a class="tab fr">StatusCode: {{currentApi.resultStatusCode}}</a> </div> <div v-show=currentApi.result class=api-result-box> <i v-show="!!currentApi.result && (flag.resultActive==\'content\')" id=api-result-copy class="iconfont icon-copy"></i> <i v-show="!!currentApi.result && currentApi.contentType==\'HTML\' && (flag.resultActive==\'content\')" class="iconfont icon-openwindow" v-on:click=openNewWindow></i> <i v-show="!!currentApi.result && (flag.resultActive==\'headers\')" id=api-result-header-copy class="iconfont icon-copy"></i> <div id=api-result> <pre v-show="flag.resultActive==\'content\'" id=api-result-content>{{{currentApi.result}}}</pre> <div v-show="flag.resultActive==\'headers\'" id=api-result-headers> <div class=api-result-headers-list v-show=currentApi.resultHeaders> {{{currentApi.resultHeaders | html}}} </div> <div v-else class=api-result-headers-list> <div v-if="extVer>=1.4"> No header for you </div> <div v-else> 请下载或升级浏览器插件。 </div> </div> </div> </div> </div> <div class="ta-c api-plugin-tip" v-if=!extVer> <i class="iconfont icon-chrome"></i><br/> <p>由于浏览器有跨域限制，如果您的服务器不支持CORS协议，需要安装我们开发的Chrome插件“小幺鸡”</p> <p>安装的时候请注意勾选，安装后请刷新页面。</p> <p> <a href=https://chrome.google.com/webstore/detail/%E5%B0%8F%E5%B9%BA%E9%B8%A1/omohfhadnbkakganodaofplinheljnbd target=_blank class="btn btn-default">Chrome应用商店</a> </p> </div> <div v-else> <div class="ta-c api-plugin-tip" v-if="extVer < 1.3"> <i class="iconfont icon-chrome"></i><br/> <p>您安装的『小幺鸡』插件版本有更新,为了避免使用出现bug,请下载升级</p> <p>安装的时候请注意勾选，安装后请刷新页面。</p> <p> <a href=https://chrome.google.com/webstore/detail/%E5%B0%8F%E5%B9%BA%E9%B8%A1/omohfhadnbkakganodaofplinheljnbd target=_blank class="btn btn-default">Chrome应用商店</a> <a href=/extension/xiaoyaoji.crx target=_blank class="btn btn-default">本地下载</a> <a href=http://jingyan.baidu.com/article/e5c39bf56286ae39d6603374.html target=_blank class="btn btn-default">本地下载安装教程</a> </p> </div> </div> </template> <template v-if="currentApi.protocol == \'WEBSOCKET\'"> <div class=form> <div class=item> <div class="col-sm-2 label">日志</div> <div class=col-sm-10><textarea class=text v-model=ws.log rows=10></textarea></div> </div> <div class=item> <div class="col-sm-2 label">地址</div> <div class=col-sm-10> <input type=text class=text id=websocketRequestURL value={{requestURL}} v-model=ws.url></div> </div> <div class=item v-if=ws.connected> <div class="col-sm-2 label">发送消息</div> <div class=col-sm-10><input type=text class=text v-model=ws.message> </div> </div> <div class=item> <div class=col-sm-2>&nbsp;</div> <div class=col-sm-10> <input type=button v-if=!ws.connected v-on:click=wsConnect class="btn btn-primary" value=连接> <template v-else> <input type=button class="btn btn-primary" v-on:click=wsSendMessage value=发送消息> <input type=button class="btn btn-danger" v-on:click=wsDisconnect value=断开连接> </template> </div> </div> </div> </template> </div> </div> </div> <div class="ta-c api-error-tip" v-cloak v-else> <i class="iconfont icon-api" style="font-size: 120px"></i> <p style="font-size: 24px">该模块下接口列表为空</p> <p style="font-size: 12px">编辑模式可管理接口</p> </div> </div> </template> <template v-if=error.projectNotExists> <div class="ta-c api-error-tip"> <i class="iconfont icon-cloud"></i> <p style="font-size: 24px">项目不可见或不存在</p> </div> </template> </div> <div class="modal env-modal" v-cloak v-if=status.envModal> <div class=modal-header> <i class="iconfont icon-close modal-close" v-on:click="status.envModal=false"></i> </div> <div class=modal-content> <div class="modal-layout1 form" style="width: 500px"> <p class=title style="margin-bottom: 20px">添加新环境</p> <div class=hint> 环境变量运行在URL中,你可以配置多个(线上、灰度、开发)环境变量。在URL中使用方式{{flag.varname}},例：<br/> 线上环境：prefix => http://www.xiaoyaoji.com.cn<br/> 则<br/> 请求URL：{{flag.prefix}}/say => http://www.xiaoyaoji.com.cn/say </div> <p class=title></p> <div class=item> <div class=col-sm-12> <input type=text class=text v-model=flag.tempEnv.name placeholder=请输入环境名称> </div> </div> <div class=item v-for="(index,item) in flag.tempEnv.vars"> <div class=col-sm-5><input type=text v-model=item.name class=text v-on:focus=envNewLine(index) placeholder=变量名称 value={{item.name}}></div> <div class=col-sm-6> <input type=text class=text v-model=item.value placeholder=变量值 value={{item.value}}> </div> <div class="col-sm-1 full-text"> <i class="iconfont icon-close" v-on:click=flag.tempEnv.vars.$remove(item)></i> </div> </div> <div class="ta-c actions"> <button class="btn btn-default-box middle" tabindex=3 v-on:click="status.envModal=false"> 取消 </button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary middle" v-on:click=envSave tabindex=2>确定</button> </div> </div> </div> </div> </div> <div v-else> <div class="ta-c api-error-tip"> <i class="iconfont icon-cloud"></i> <p style="font-size: 24px">模块列表为空,请先创建模块</p> </div> </div> <div class=modal v-cloak v-if=status.folderModal> <div class=modal-header> <i class="iconfont icon-close modal-close" v-on:click="status.folderModal=false"></i> </div> <div class=modal-content> <div class="modal-layout1 form"> <validator name=ff> <p class=title>{{!folderName?\'创建\':\'编辑\'}}分类</p> <input type=text class="k1 text" id=folderName value={{folderName}} maxlength=20 initial=off v-model=folderName v-validate:folder-name={maxlength:20} v-bind:autofocus=status.folderModal tabindex=1 placeholder=请输入文件夹名称> <div class=tip v-if=$ff.folderName.invalid>{{$ff.errors[0].message}}</div> </validator> <div class="ta-c actions"> <button class="btn btn-default-box middle" tabindex=3 v-on:click="status.folderModal=false">取消 </button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary middle" v-on:click=folderSave tabindex=2>确定</button> </div> </div> </div> </div> <div class=modal v-cloak v-if=status.moduleModal> <div class=modal-header> <i class="iconfont icon-close modal-close" v-on:click="status.moduleModal=false"></i> </div> <div class=modal-content> <div class="modal-layout1 form"> <validator name=mf> <p class=title>{{!moduleName?\'创建\':\'编辑\'}}模块</p> <input type=text maxlength=20 id=moduleName class="k1 text" v-model=moduleName value={{moduleName}} initial=off v-validate:module-name={maxlength:20} v-bind:autofocus=status.folderModal tabindex=1 placeholder=请输入模块名称> <div class=tip v-if=$mf.moduleName.invalid>{{$mf.errors[0].message}}</div> <div class="ta-c actions"> <button class="btn btn-default-box middle" tabindex=3 v-on:click="status.moduleModal=false"> 取消 </button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary middle" v-on:click=moduleSave tabindex=2>确定</button> </div> </validator> </div> </div> </div> <div class=modal v-cloak v-if=status.importModal> <div class=modal-header> <i class="iconfont icon-close modal-close" v-on:click="status.importModal=false"></i> </div> <div class=modal-content> <div class="modal-layout1 form" style="width: 500px"> <validator name=if> <p class=title>导入JSON</p> <textarea rows=15 class="k1 text" v-model=importValue initial=off v-bind:autofocus=status.importModal tabindex=1 placeholder=请粘贴导入的数据></textarea> <div class="ta-c actions"> <button class="btn btn-default-box middle" tabindex=3 v-on:click="status.importModal=false"> 取消 </button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary middle" v-on:click=importOk tabindex=2>确定</button> </div> </validator> </div> </div> </div> <div class=modal v-cloak v-if=status.moveCopyModal> <div class=modal-header> <i class="iconfont icon-close modal-close" v-on:click="status.moveCopyModal=false"></i> </div> <div class=modal-content> <div class="modal-layout1 form" style="width: 500px"> <p class=title>{{flag.move?\'移动\':\'复制\'}}{{flag.moveCopyName}}</p> <div class=item> <div class="label col-sm-2">选择模块</div> <div class="col-sm-10 full-text"> <select class=text v-model=flag.moveCopySelectModuleId> <option v-for="item in modules" v-bind:value=item.id>{{item.name}}</option> </select> </div> </div> <div class=item v-for="m in modules" v-if="flag.moveCopySelectModuleId==m.id && flag.moveCopyName==\'接口\'"> <div class="label col-sm-2">选择分类</div> <div class="col-sm-10 full-text"> <select class=text v-model=flag.moveCopySelectFolderId> <option v-for="item in m.folders" v-bind:value=item.id>{{item.name}}</option> </select> </div> </div> <div class="ta-c actions"> <button class="btn btn-default-box middle" tabindex=3 v-on:click="status.moveCopyModal=false"> 取消 </button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary middle" v-on:click=copyMoveOk tabindex=2>确定</button> </div> </div> </div> </div> <div class=modal v-cloak v-if=status.shareModal> <div class=modal-header> <i class="iconfont icon-close modal-close" v-on:click="status.shareModal=false"></i> </div> <div class="modal-content api-share"> <div class="modal-layout-box form" v-show=!status.shareCreateModal> <p class=title>分享列表</p> <ul> <li class=api-share-item v-for="item in shares"> <div class=cb> <a class="fl api-share-title" target=_blank v-link="\'/share/\'+item.id">[{{item.username}}] {{item.name}}</a> <div class=fr> <i class="iconfont icon-lock" v-on:click=shareItemClockClick></i> <i class="iconfont icon-close" v-on:click=deleteShare(item)></i> </div> <input type=text placeholder=空则表示不用密码 v-on:blur=shareItemPasswordBlur(item,$event) data-value={{item.password}} class="text api-share-pwd-box" value={{item.password}}> </div> <div class=cb> <span v-if="item.shareAll == \'YES\'">所有模块</span> <span v-else> <span v-for="m in item.shareModules">{{m.name}},</span> </span> <span class=fr>{{item.createTime}}</span> </div> </li> </ul> <br/> <button class="btn btn-primary middle" v-on:click="status.shareCreateModal=true">创建新分享</button> </div> <div class="modal-layout-box form" v-show=status.shareCreateModal> <form onsubmit="return false;" id=share-form> <p class=title>创建新的分享</p> <div class=item> <div class="col-sm-2 label">整个项目</div> <div class="col-sm-10 full-text"> <input type=checkbox v-model=flag.shareAll> </div> </div> <div class=item v-if=!flag.shareAll> <div class="col-sm-2 label">勾选模块</div> <div class="col-sm-10 full-text"> <label v-for="item in modules" class=api-share-cm-label> <input type=checkbox name=moduleId value={{item.id}}> {{item.name}}</label> </div> </div> <div class=item> <div class="col-sm-2 label">名称</div> <div class=col-sm-10> <input type=text name=name maxlength=20 class=text placeholder=请输入分享的名称> </div> </div> <div class=item> <div class="col-sm-2 label">阅读密码</div> <div class=col-sm-10> <input type=text name=password maxlength=10 class=text placeholder=请输入阅读密码> </div> </div> <div class=item> <div class="col-sm-2 label"></div> <div class=col-sm-10> <button class="btn btn-default-box middle" tabindex=3 v-on:click="status.shareCreateModal=false">返回 </button> <button class="btn btn-primary middle" v-on:click=shareCreate tabindex=2>确定</button> </div> </div> </form> </div> </div> </div> </template> <template v-if=status.loading> <div class=spinner> <div class=double-bounce1></div> <div class=double-bounce2></div> </div> </template> ';
}]));